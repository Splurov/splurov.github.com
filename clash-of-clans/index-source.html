<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=950"/>
    {{#web_only}}
    <title>{{coc_title}}</title>
    <meta name="description" content="{{coc_description}}"/>
    {{/web_only}}
    <link rel="stylesheet" type="text/css" href="../css/design.css"/>
    <link rel="stylesheet" type="text/css" href="css/calculator.css"/>
    {{#web_only}}
    <script src="js/favicon.js"></script>
    <link rel="icon" href="/clash-of-clans/i/favicon-v2.png"/>
    <link rel="apple-touch-icon-precomposed" href="/clash-of-clans/i/app-icons/57x57.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/clash-of-clans/i/app-icons/72x72.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/clash-of-clans/i/app-icons/114x114.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/clash-of-clans/i/app-icons/144x144.png"/>
    <meta name="apple-mobile-web-app-title" content="{{coc_title_web_clip}}"/>
    <!--<meta name="apple-mobile-web-app-capable" content="yes"/>-->
    <meta property="fb:admins" content="splurov"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@ClashCalc"/>
    <meta name="twitter:creator" content="@Splurov"/>
    <meta name="twitter:title" content="{{coc_title}}"/>
    <meta name="twitter:description" content="{{coc_description}}"/>

    <meta property="og:url" content="http://mkln.ru/clash-of-clans/" />
    <meta property="og:title" content="{{coc_title}}" />
    <meta property="og:description" content="{{coc_description}}" />
    {{/web_only}}
</head>
<body>

{{#web_only}}
<h1>{{coc_title}}</h1>

<div class="fixed-content">
    <p>{{coc_description}}</p>
    <p>
        <a href="https://twitter.com/share?url=http%3A%2F%2Fmkln.ru%2Fclash-of-clans%2F&amp;via=ClashCalc&amp;hashtags=ClashOfClans"
           target="_blank"
           class="button button_social">Share Clash Calc on Twitter</a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fmkln.ru%2Fclash-of-clans%2F"
           target="_blank"
           class="button button_after button_social">Share Clash Calc on Facebook</a>
    </p>
    <p>
        <a href="https://twitter.com/intent/follow?original_referer=http%3A%2F%2Fmkln.ru%2Fclash-of-clans%2F&amp;screen_name=ClashCalc"
           target="_blank"
           class="button button_social">Follow @ClashCalc on Twitter</a>
    </p>
</div>
{{/web_only}}

{{^web_only}}
<style>
    .app-version-updated {
        display: none;
    }
    #app_version.updated + .app-version-updated {
        position: absolute;
        top: 30px;
        left: -12px;
        border: 2px solid #900;
        border-radius: 10px;
        padding: 10px;
        display: block;
        background: #ffeeee;
        font-weight: bold;
        z-index: 100;
    }
</style>
<p style="position: relative;">
    Last Update:
    <span id="app_version" class="updated"></span>
    <span id="app-updated" class="app-version-updated">Version updated!</span>
</p>
<script>
    document.getElementById('app-updated').ontouchend = function(e) {
        e.preventDefault();
        e.stopPropagation();
        document.getElementById('app_version').className = '';
    };
</script>
{{/web_only}}

<div class="list-content list-content_small fixed-content">
    {{#firstChangelog}}
    <h3>What's New in Version {{version}} <span id="view-changelog" class="button button_after">Version History</span></h3>
    {{#ch_title}}
    <p>{{ch_title}}</p>
    {{/ch_title}}
    <ul>
        {{#changes}}
        <li>{{& change}}.</li>
        {{/changes}}
    </ul>
    {{/firstChangelog}}
</div>

<p>
    <span id="view-shared" class="inline-message inline-message_closeable" style="display: none;" title="Click to hide">
        You are viewing shared composition (you can find previous one in the saved compositions)
    </span>
</p>

<h2>
    <a href="http://clashofclans.wikia.com/wiki/Barracks" class="wikia-link" target="_blank">Barracks</a>
    <span class="inline-message inline-message_negative inline-message_after"
          style="display: none;"
          id="units-barracks-exceeded">Too many units</span>
</h2>
<table id="units" class="data js-switch-object">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>
                Quantity <span class="data-secondary tooltip" title="Army Camps Free Capacity" id="units-quantity"></span>
                <br/><span class="button data-secondary js-reset" data-reset-type="units" data-scope="quantity">Reset</span>
            </th>
            <th><span class="cost-elixir">Total</span></th>
            <th>
                Subtract
                <br/><span class="button data-secondary js-reset" data-reset-type="units" data-scope="subtract">Reset</span>
            </th>
            <th>
                <select id="barracks-levels-1" tabindex="1">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-1"></span>
            </th>
            <th>
                <select id="barracks-levels-2" tabindex="5">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br />
                <span id="units-barrack-header-2"></span>
            </th>
            <th>
                <select id="barracks-levels-3" tabindex="10">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-3"></span>
            </th>
            <th>
                <select id="barracks-levels-4" tabindex="15">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-4"></span>
            </th>
        </tr>
    </thead>
    <tbody id="units-body">
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2" class="data-secondary number">
                <label for="army-camps"><a href="http://clashofclans.wikia.com/wiki/Army_Camp"
                                           class="wikia-link"
                                           target="_blank">Army Camps</a> Capacity:</label></td>
            <td>
                <span id="units-space" class="result near-field"></span>
                <select id="army-camps" data-object-type="all" tabindex="19">
                    <option value="20">20</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                    <option value="55">55</option>
                    <option value="60">60</option>
                    <option value="65">65</option>
                    <option value="70">70</option>
                    <option value="75">75</option>
                    <option value="80">80</option>
                    <option value="85">85</option>
                    <option value="90">90</option>
                    <option value="95">95</option>
                    <option value="100">100</option>
                    <option value="105">105</option>
                    <option value="110">110</option>
                    <option value="115">115</option>
                    <option value="120">120</option>
                    <option value="125">125</option>
                    <option value="130">130</option>
                    <option value="135">135</option>
                    <option value="140">140</option>
                    <option value="145">145</option>
                    <option value="150">150</option>
                    <option value="155">155</option>
                    <option value="160">160</option>
                    <option value="165">165</option>
                    <option value="170">170</option>
                    <option value="175">175</option>
                    <option value="180">180</option>
                    <option value="185">185</option>
                    <option value="190">190</option>
                    <option value="195">195</option>
                    <option value="200">200</option>
                    <option value="205">205</option>
                    <option value="210">210</option>
                    <option value="215">215</option>
                    <option value="220" selected="selected">220</option>
                </select>
            </td>
            <td id="units-cost" class="number result"></td>
            <td id="units-subtracted-cost" class="data-secondary"></td>
            <td id="units-time-barrack-1" class="number"></td>
            <td id="units-time-barrack-2" class="number"></td>
            <td id="units-time-barrack-3" class="number"></td>
            <td id="units-time-barrack-4" class="number"></td>
        </tr>
    </tfoot>
</table>

<h2>
    <a href="http://clashofclans.wikia.com/wiki/Dark_Barracks" class="wikia-link" target="_blank">Dark Barracks</a>
    <span class="inline-message inline-message_negative inline-message_after"
          style="display: none;"
          id="dark-barracks-exceeded">Too many units</span>
</h2>
<table id="dark" class="data">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>
                Quantity <span class="data-secondary tooltip" title="Army Camps Free Capacity" id="dark-quantity"></span>
                <br/><span class="button data-secondary js-reset" data-reset-type="dark" data-scope="quantity">Reset</span>
            </th>
            <th><span class="cost-dark-elixir">Total</span></th>
            <th>
                Subtract
                <br/><span class="button data-secondary js-reset" data-reset-type="dark" data-scope="subtract">Reset</span>
            </th>
            <th>
                <select id="dark-barracks-levels-1" tabindex="20">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected="selected">4</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="dark-barrack-header-1"></span>
            </th>
            <th>
                <select id="dark-barracks-levels-2" tabindex="25">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected="selected">4</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="dark-barrack-header-2"></span>
            </th>
        </tr>
    </thead>
    <tbody id="dark-body">
    </tbody>
    <tfoot>
        <tr>
            <td></td>
            <td></td>
            <td id="dark-space" class="result"></td>
            <td id="dark-cost" class="number result"></td>
            <td id="dark-subtracted-cost" class="data-secondary"></td>
            <td id="dark-time-barrack-1" class="number"></td>
            <td id="dark-time-barrack-2" class="number"></td>
        </tr>
    </tfoot>
</table>

<h2><a href="http://clashofclans.wikia.com/wiki/Spell_Factory" class="wikia-link" target="_blank">Spell Factory</a></h2>
<table id="spells" class="data">
    <thead>
        <tr>
            <th>Spell</th>
            <th>Level</th>
            <th>Quantity <span class="data-secondary tooltip" title="Spell Factory Free Capacity" id="spells-quantity"></span></th>
            <th><span class="cost-gold">Total</span></th>
            <th>
                <select id="spell-factory-level" tabindex="35">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected="selected">4</option>
                </select> <span class="near-field">lvl</span>
            </th>
        </tr>
    </thead>
    <tbody id="spells-body">
    </tbody>
    <tfoot>
        <tr>
            <td></td>
            <td></td>
            <td class="result" id="spells-space"></td>
            <td id="spells-cost" class="number result"></td>
            <td class="result number" id="spells-time"></td>
        </tr>
    </tfoot>
</table>

<h2>Share Composition</h2>
<p class="fixed-content">
    <input id="share-permalink" class="field-long" tabindex="1901"/>
</p>
<p>
    <a href="" target="_blank" id="share-twitter" class="button button_social" tabindex="1902">
        Share Composition on Twitter
    </a>
    <a href="" target="_blank" id="share-facebook" class="button button_after button_social" tabindex="1903">
        Share Composition on Facebook
    </a>
</p>

<h2>Saved Compositions</h2>
<p>Values from the “Subtract” columns not saved.</p>
<p>
    <span id="save" class="button" tabindex="2000">Save Composition</span>

    <span id="already-saved" class="inline-message inline-message_after inline-message_closeable" style="display: none;" title="Click to hide">
        Already in the saved compositions
    </span>
</p>

<div id="saved-list" class="saved-list">
    <div id="saved-list-content" class="saved-list__content">
    </div>
</div>

<script src="js/hogan-2.0.0.min.js" data-compress="no"></script>

<script type="text/x-build-hogan" src="mustache/item_row.mustache"></script>
<script type="text/x-build-hogan" src="mustache/saved_list_item.mustache"></script>

<script src="js/mk.common.js"></script>
<script src="js/mk.calc.common.js"></script>{{#web_only}}<script src="js/mk.calc.security.js"></script>{{/web_only}}
<script src="js/mk.calc.converter.js"></script>
<script src="js/mk.calc.preinit.js"></script>
<script src="js/mk.calc.saved.js"></script>
<script src="js/mk.calc.share.js"></script>
<script src="js/mk.calc.init.js"></script>
<script src="js/mk.calc.spinner.js"></script>
<script src="js/mk.calc.reset.js"></script>

<div id="changelog-overlay" class="changelog-overlay hidden">
    <div class="changelog-close">
        <span id="changelog-close" class="button">
            <span class="changelog-close__all">Close</span>
            <span class="changelog-close__iphone">Back</span>
        </span>
    </div>
    <div id="changelog-popup" class="changelog-popup">
        <div class="changelog-content">
            <h2>Version History</h2>
            <div class="list-content">
                {{#changelog}}
                <h3>
                    {{version}}<br/>
                    <span class="list-content__date">{{date}}</span>
                </h3>
                {{#ch_title}}
                <p>{{ch_title}}</p>
                {{/ch_title}}
                <ul>
                    {{#changes}}
                    <li>{{& change}}.</li>
                    {{/changes}}
                </ul>
                {{/changelog}}
            </div>
        </div>
    </div>
</div>
<script src="js/view-changelog.js"></script>

{{#web_only}}
<script src="../js/ya-metrika.js"></script>
{{& ya_metrika_noscript}}

<script src="../js/ga.js"></script>


<h2>Additional Info</h2>
<div class="fixed-content">
    <p>All entered data will be saved in your browser and pre-filled in next time you visit this page.</p>
    <p>
        Please note this tool is only available at http://mkln.ru/clash-of-clans/.
        If you've seen it on other sites or in the iTunes App Store or anywhere else —
        is the result of the actions of fraudsters and thieves that have nothing to do with me
        and use my work without my permission, violating copyright.
    </p>
</div>


<div id="fb-root"></div>
<script src="js/facebook.js"></script>

<h2>Comments</h2>
<p>Please let me know if you find a bug or have any feature suggestions.</p>
<p>
    You can also contact me directly via <a href="mailto:splurov@gmail.com">email</a>
    or leave a message in the
    <a href="http://forum.supercell.net/showthread.php/17238-Troops-and-Spells-Cost-Calculator">thread</a>
    on a Supercell forums.
</p>

<div class="fb-comments" data-href="http://mkln.ru/clash-of-clans/" data-width="470" data-num-posts="5"></div>

<h2>To-do</h2>
<div class="list-content list-content_small fixed-content">
    <ul>
        <li>Possibility not to change the levels when loading saved compositions.</li>
        <li>Possibility to specify a title for the saved compositions.</li>
        <li>The distribution of units in the case when the barracks can produce less than accommodating the army camps.</li>
        <li>Saving data between browsers.</li>
        <li>
            “Gem-boosted” barracks time
            (from
            <a href="http://forum.supercell.net/showthread.php/17238-Troops-and-Spells-Cost-Calculator?p=357652&amp;viewfull=1#post357652">forums</a>
            and comments).
        </li>
        <li>Gem costs.</li>
        <li>(?) Production time in saved compositions.</li>
        <li>(?) Clan Castle troops.</li>
    </ul>
</div>

<div class="footer">
    <p>
        This work is licensed under a
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">
            Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License
        </a>
    </p>
    <p>&copy; 2013 <a href="/en/">Mikhail Kalashnik</a></p>
</div>
{{/web_only}}

{{^web_only}}
<script src="js/mk.ios.js"></script>
{{/web_only}}

</body>
</html>
