<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    {{#web_only}}
    <title>{{coc_title}}</title>
    <meta name="description" content="{{coc_description}}"/>
    {{/web_only}}
    <link rel="stylesheet" type="text/css" href="../css/design.css"/>
    <link rel="stylesheet" type="text/css" href="css/calculator.css"/>
    {{#web_only}}
    <script src="js/favicon.js"></script>
    <link rel="icon" href="/clash-of-clans/i/favicon-v2.png"/>
    <link rel="apple-touch-icon-precomposed" href="/clash-of-clans/i/app-icons/57x57.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/clash-of-clans/i/app-icons/72x72.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/clash-of-clans/i/app-icons/114x114.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/clash-of-clans/i/app-icons/144x144.png"/>
    <meta name="apple-mobile-web-app-title" content="{{coc_title_web_clip}}" />
    <meta property="fb:admins" content="splurov"/>
    {{/web_only}}
</head>
<body>

{{#web_only}}
<h1>{{coc_title}}</h1>

<div class="intro">
    <p>{{coc_description}}</p>

    <p>All entered data will be saved in your browser and pre-filled in next time you visit this page.</p>
</div>
{{/web_only}}

{{^web_only}}
<p>Version: <span id="app.version"></span></p>
{{/web_only}}

<table class="units units_common">
    <tr>
        <td>
            <label for="barracks-levels-1"><a href="http://clashofclans.wikia.com/wiki/Barracks" class="wikia-link" target="_blank">Barracks</a> Levels</label>
        </td>
        <td>
            <select id="barracks-levels-1" class="field" tabindex="1">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10" selected="selected">10</option>
            </select>
            <select id="barracks-levels-2" class="field" tabindex="5">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10" selected="selected">10</option>
            </select>
            <select id="barracks-levels-3" class="field" tabindex="10">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10" selected="selected">10</option>
            </select>
            <select id="barracks-levels-4" class="field" tabindex="15">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10" selected="selected">10</option>
            </select>
        </td>
    </tr>

    <tr>
        <td>
            <label for="dark-barracks-levels-1"><a href="http://clashofclans.wikia.com/wiki/Dark_Barracks" class="wikia-link" target="_blank">Dark Barracks</a> Levels</label>
        </td>
        <td>
            <select id="dark-barracks-levels-1" class="field" tabindex="20">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected="selected">4</option>
            </select>
            <select id="dark-barracks-levels-2" class="field" tabindex="25">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected="selected">4</option>
            </select>
        </td>
    </tr>

    <tr>
        <td>
            <label for="army-camps"><a href="http://clashofclans.wikia.com/wiki/Army_Camp" class="wikia-link" target="_blank">Army Camps</a> Capacity</label>
        </td>
        <td>
            <input type="number" step="5" min="20" max="220" class="js-number field" data-multiplier="5" value="220" id="army-camps" size="3" tabindex="30"/>
        </td>
    </tr>

    <tr>
        <td>
            <label for="spell-factory-level"><a href="http://clashofclans.wikia.com/wiki/Spell_Factory" class="wikia-link" target="_blank">Spell Factory</a> Level</label>
        </td>
        <td>
            <select id="spell-factory-level" class="field" tabindex="35">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected="selected">4</option>
            </select>
        </td>
    </tr>
</table>

<table id="units" class="units">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>Quantity <span class="units-quantity" title="Free Capacity" id="units-quantity"></span></th>
            <th><span class="cost-elixir">Total</span></th>
            <th>Subtract (<a href="#subtract">?</a>)</th>
            <th colspan="4">Barracks <span class="limit-exceeded units-quantity" style="display: none;" id="units-barracks-exceeded">(too many units)</span></th>
        </tr>
        <tr>
            <td colspan="2"></td>
            <td><span class="like-button js-reset" data-type="units" data-scope="quantity">Reset</span></td>
            <td></td>
            <td><span class="like-button js-reset" data-type="units" data-scope="subtract">Reset</span></td>
            <td id="units-barrack-header-1"></td>
            <td id="units-barrack-header-2"></td>
            <td id="units-barrack-header-3"></td>
            <td id="units-barrack-header-4"></td>
        </tr>
    </thead>
    <tbody id="units-body">
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2"></td>
            <td id="units-space" class="result"></td>
            <td id="units-cost" class="number result"></td>
            <td></td>
            <td id="units-time-barrack-1" class="number"></td>
            <td id="units-time-barrack-2" class="number"></td>
            <td id="units-time-barrack-3" class="number"></td>
            <td id="units-time-barrack-4" class="number"></td>
        </tr>
    </tfoot>
</table>

<table id="dark" class="units">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>Quantity <span class="units-quantity" title="Free Capacity" id="dark-quantity"></span></th>
            <th><span class="cost-dark-elixir">Total</span></th>
            <th>Subtract (<a href="#subtract">?</a>)</th>
            <th colspan="2">Dark Barracks <span class="limit-exceeded units-quantity" style="display: none;" id="dark-barracks-exceeded">(too many units)</span></th>
        </tr>
        <tr>
            <td colspan="2"></td>
            <td><span class="like-button js-reset" data-type="dark" data-scope="quantity">Reset</span></td>
            <td></td>
            <td><span class="like-button js-reset" data-type="dark" data-scope="subtract">Reset</span></td>
            <td id="dark-barrack-header-1"></td>
            <td id="dark-barrack-header-2"></td>
        </tr>
    </thead>
    <tbody id="dark-body">
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2"></td>
            <td id="dark-space" class="result"></td>
            <td id="dark-cost" class="number result"></td>
            <td></td>
            <td id="dark-time-barrack-1" class="number"></td>
            <td id="dark-time-barrack-2" class="number"></td>
        </tr>
    </tfoot>
</table>

<table id="spells" class="units">
    <thead>
        <tr>
            <th>Spell</th>
            <th>Level</th>
            <th>Quantity <span class="units-quantity" title="Free Capacity" id="spells-quantity"></span></th>
            <th><span class="cost-gold">Total</span></th>
        </tr>
    </thead>
    <tbody id="spells-body">
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2"></td>
            <td class="result">
                <span id="spells-space"></span>
                —
                <span id="spells-time"></span>
            </td>
            <td id="spells-cost" class="number result"></td>
        </tr>
    </tfoot>
</table>

<p>
    <span id="save" class="like-button like-button_lonely" tabindex="2000">Save Calculation</span>
</p>

<div id="saved-list" class="saved-list">
    <div id="saved-list-content" class="saved-list__content">
    </div>
</div>

<script src="js/hogan-2.0.0.min.js" data-compress="no"></script>

<script type="text/x-build-hogan" src="mustache/item_row.mustache"></script>
<script type="text/x-build-hogan" src="mustache/saved_list_item.mustache"></script>

<script src="js/calculator.js"></script>

{{#web_only}}
<!-- Yandex.Metrika counter -->
<script src="../js/ya-metrika.js"></script>
{{& ya_metrika_noscript}}
<!-- /Yandex.Metrika counter -->

<script src="../js/ga.js"></script>

<div id="fb-root"></div>
<script src="js/facebook.js"></script>

<h2>Comments</h2>
<p>Feel free to post bugs and feature suggestions.</p>

<div class="fb-comments" data-href="http://mkln.ru/clash-of-clans/" data-width="470" data-num-posts="5"></div>

<h2>Changelog</h2>
<div class="minor">
    {{#changelog}}
        <h3>
            {{version}}<br/>
            <span class="minor__date">{{date}}</span>
        </h3>
        {{#ch_title}}
            <p>{{ch_title}}</p>
        {{/ch_title}}
        <ul>
            {{#changes}}
                <li>{{& change}}.</li>
            {{/changes}}
        </ul>
    {{/changelog}}
</div>

<h2>To-do</h2>
<div class="minor">
    <ul>
        <li>Optimize performance.</li>
        <li>Grouping units of the same type in distribution between barracks (<a href="http://forum.supercell.net/showthread.php/17238-Troops-and-Spells-Cost-Calculator?p=357752&viewfull=1#post357752">link</a>).</li>
        <li>Saving data between browsers.</li>
        <li>The distribution of units in the case when the barracks can produce less than accommodating the army camps.</li>
        <!--<li>Form validation.</li>-->
        <li>Production time in saved calculations.</li>
        <li>(?) “Gem-boosted” barracks time (<a href="http://forum.supercell.net/showthread.php/17238-Troops-and-Spells-Cost-Calculator?p=357652&viewfull=1#post357652">link</a>).</li>
        <li>(?) Gem costs.</li>
        <li>(?) Clan Castle troops.</li>
    </ul>
</div>

<div class="footer">
    Developed by <a href="/en/">Mikhail Kalashnik</a>
</div>
{{/web_only}}

</body>
</html>
