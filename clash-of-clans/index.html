<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=950"/>
    <title>Clash Calc — Troops and Spells Cost Calculator/Time Planner for Clash of Clans</title>
    <meta name="description" content="Helps to plan the composition of your army, optimize the distribution of troops between barracks for the optimal training time and calculate the cost of the attack in order to remain in plus, after the battle."/>
    <style>html,body{background:#fefefe;color:#222}body{font-family:'PT Sans',Arial,sans-serif;margin:13px 17px;line-height:1.4;font-size:16px;-webkit-text-size-adjust:100%}a{white-space:nowrap}a:link{color:#4100f1}a:link,a:visited{text-decoration:none}a:visited{color:#63008c}a:hover,a:active{text-decoration:underline}kbd{font-family:inherit;background:#f0f0f0;border:1px solid #ddd;border-radius:5px;padding:0 4px}input,select,textarea{font-family:inherit;font-size:inherit;vertical-align:middle}.field-long{width:100%}.near-field{vertical-align:middle}h1{font-size:22px;margin:0 0 3px}h2{font-size:18px;margin:13px 0 8px}h2+table{margin-top:1px}h3{font-size:14px;margin:17px 0 2px}p{margin:0 0 10px}table{border-spacing:0}table td,table th{vertical-align:top;padding:0}.number{text-align:right}.wikia-link:link,.wikia-link:visited{color:inherit;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA/1BMVEX///8AAABAQEANDQ1TU1M/Pz8MDAxHR0cAAABAQEBhYWFOTk4AAABMTEwYGBhhYWFHR0dWVlYAAABLS0sYGBhOTk5VVVVUVFQ+Pj4AAAAAAABpaWloaGhmZmZiYmJnZ2f+/v6jo6Pc3Nxvb29eXl5cXFxkZGRlZWW6urptbW2pqam1tbXW1tb4+Pi2trZqamp8fHxfX1+0tLTg4OC4uLizs7P9/f1ubm5/f39wcHBbW1vd3d1ra2uoqKj5+fl+fn7Pz8+RkZGtra3t7e13d3eCgoKwsLB7e3uSkpKvr6/Y2NjZ2dl1dXXb29uqqqqkpKTi4uLk5ORjY2N4eHiLi4spHuS/AAAAG3RSTlMADasU0KsVsROo+cQPvUD3s9kMvD/B1dKoCw76qK6PAAAA6klEQVR4Xk3L1XaDQABFUQIkdfeO4m5x91Rd/v9bOkMHynnc615JpKjQESFUQQABj/xj48q4c9ss94E4Be7vjZc0z4UlSoeXwI84toEj1f463d6yN6sCZbnO2znY7T/RAjGGPW/gEXQfMllFOQ4zrdXSF3g2Yva88bsu5BjT6WSc6szCvp0sHxOOAdW+vvlXT4+OTxIDQo5dH63nlI5m6Ew5v1BVlWGHRk0ymIcpRtc30m1DUXKk0yZ5WcOFV69JvBy52njyalSR69t79FFZxlT02SvQMn/iDisIYg2UaJmZyMRyidZQZBX4C/BhL9uWDiH6AAAAAElFTkSuQmCC) no-repeat 100% .25em;background-size:10px 10px;padding-right:15px;text-decoration:none}.wikia-link:hover,.wikia-link:active{text-decoration:underline}.data{-webkit-transform:translateZ(0);-webkit-font-smoothing:subpixel-antialiased}.data th,.data td{padding-left:7px;padding-right:7px;white-space:nowrap;border-bottom:1px solid #ddd;border-right:1px solid #ddd}.data th{text-align:left;padding-bottom:1px;line-height:20px}.data td{padding-top:2px;padding-bottom:2px;vertical-align:middle}.data td>input{text-align:right}.data tfoot tr:last-child td{border-bottom:0}.data th:last-child,.data td:last-child{border-right:0}.data th:first-child,.data td:first-child{padding-left:0}.data-secondary{font-size:13px}.list-content{margin-bottom:10px}.list-content_small{font-size:14px}.list-content ul{padding:0;margin:0;list-style:none}.list-content li{padding-left:12px;position:relative}.list-content li:before{content:'•';position:absolute;left:0}.list-content p{margin:0 0 1px}.list-content__date{color:#777}.cost-elixir{background-position:100% 50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAHQUlEQVR4Xq2Wa2wcVxmG33PmvhevvWu89tqOY7u5OMZ16oQkDU0ISUWsJo3SllAognIJhQrEVSBaIQWQ8qMgCghoVH4gVAlK1aYIiYqLQCJUaUlFQbSlsoLjpCnKPfi615k5h1c7R4mTSA2iXenR983I2kfv+T7PLN7Cj0XacvD796S3rP54bnzbBzLbhwHYb6UkU7SLWz/WunPfgZ4vPP3LG/Yf+dPyA2f+NvxE7ejq36rfLPvh2bH0ivFLgjdhL72/Zfsd6zIr79nQsmp4MLU0V7ALsKwAkClAOM1glg7bA+Xe8GaEmT2FXR+6O7flU2uygzcu9TuTr5AuqyQsqnJJmJIeeuwO9/8Srg2G1324bfyBW9s37Bzyl9gQGoAiEaCFkYhEqiO2Aik7J/udntJigXwDhzA1/cn8PZ/7Zvd9T+8t7dw9FPTaTQk0YSvI1R/KoIG0nUN/a+8IgMz/ItQ96Ol+aMlXv3d/953fGc+v7Q44IyYhHgmIC8BcQxKLSCPVsKSLrlznkFvI9lx3hiWUlnyj7/5H7mrfuiNnW808sFoTGQRRgA7NkSJJKijUijQAxMRFp1Usrc+uWvHsxSMT1yY0Q3hP9uaNDw185eDu9s2UUSBzEHYHa5q0UJwjrLzPa+KbGTalBtFM3J8etEpBfqMZEayrk21y19+4t/i+n25pXbO6xXLh2EEyL23mhhgQknhGZJv7atHodSIULlJuJ16W/6wcwvNPYQ7RlQlT6NrTtf3hd+RGhkNV1gINQNUA1C/LoEwPIhKEJMIIYdIS3keYwYj/9lXZqtt39ZG6X+/44r5bW9+5raEqcKQQ4tIBWCaJMDOK6K2TWjJHxetYs5LLVnMqdawMBzo6U70brhDem79r9+3ZbR9VzAWqHOEmArN9JlSSUjdIlYIFiiqAoDAlAY8sdiIG4ln0yYKzo2/zu0FfUxgg6N6R3/Zgq9PuzvAPUpydNMPX2gYcB8gS2yy1jklEFEUAxgJgdw7Y1Qb0uYBalBINZGUGQ6p3CECuKfxI4Y571+XWjE5HZTjShS1cVg+W8CFcSpaSZaTbAm8STTlrQJZbwKYMcFsWuJN1I6slFiVlEwXoVb3FtuG2LIXIr28de2+H24W6asCnyJMBXCuN5gwdClxNQcw+ooR9mqKMZGr2BdY2UgRQIp02kGbVxkigYgxklua2lm7usEftlWuX+YPD5biBumZ8eJCQ0NTFdImqgjwXAr5OltUxAEnKagycbQCTbpLm9TpQAyBt4ppRRsgEuXS67Pfafeme0SV+nzujqtCCEgA1HTFQFZAWNA3ORep9AeFYRqiSRYl5fYHCowvADK/pwt8rQINii0Lpm22dh2/5tqirvPQtL9tiZ6CaiyARao2IwoaKELPXktfNY1WXH5WaSErtECiTYzS9MA88S/EJis2bBJogJgxgScQSgQ0hbCEkpJCMIQVFaGgFV2jErJJCbZ5WNjFvIWM1s1ogVVK26DFPJBWbtwZBA8qPEUktbQWhdXMcdnMza/E8hZRpAgEBiogCodzSZgMFawz2BqVgttJAsSonKa0IlXQZC1FN2eV4oV6O5ijLCJ+bWY7LqOsYIVXMB7YUK9DGPmR1IC0JEcM8XVhDUiMqvvIodZi4PRdH9bFwYvrY6/J4/bVXpipTYYsMdIoJNRzMRdxYFSHUCpEmKiRRM0QsWJsNiczm1rVJGBt7ZPoG/XXogsbL1WOvTr46+Zw9UZ3640vViSM35dbc4gsbWS7QhcZ5eNxSS1jwiRNKuNLMTJs5AbBCMISACLVJBZPMzFE3iMTx9Gt47vQ/fgHgvAWgXovC+ZvSK3a1ex02ILjhNfwnmoedzNB8l04qk4kG+xogmExEMUQyTCMKk6pZozpUMYWf60N/+PYzjzwAoEohcLxxcmrA6xxYnx0bFbC1JaTg/yXKqgKLSqmleTNRFGlCM9EUmDSQFCyWaVWBCNrwfHHqwvdPPPaZk6f+PbH4BRxN1CdfGXS63zWcXt4JIeBaLmZ4rPOqRqUigFCUxOTSUsRUEUoU0RRFjF6PKnDsLKY65/WjFw9+6+DhXz925S8zw6izfN2Xe/ceGG/fOVYG+MSawZlwGtVoASkh0ep4yEgPgRDwBGfL6lIpkSyM4sy00ih4RZzrivCj8hM/2//iDz6NacxeKzQMuMWRB3s++92tuS3bArsVF6KKvhDNidlotpnAF5JSB2niCQ0LupnSYZcSns4HHWIyf6b8eO1Xj+//y4F9qODUtb89r6Xwpbd98BO3t9/2+ZHsaFHB5hKVMccjbuiGFlS4kPAkK4TIW2m0OXksuGUc0i8c+/Hsk1975qXfP2mea7i+0LDZHtl8d2nXfYNB/y3dbndvm9sufduDZZ5vWscI4zrORefD4/HJqcPOX//88OmfPBqeDl98w1/X16OEoHdTfstQAen1Ja8rn7MKAlCYDqf1CZw6O6cWDj91/nf/AnAG1/n8F5ibEdUKUt6kAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:14px 16px;padding-right:19px}.cost-dark-elixir{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAD80lEQVR42q2XS0hUYRiGc0bHGW9z8T7jjI6O10wFNTGpwETaSTFkgkLSKpLCIBiCGggKgmBaRq4El1KbNl02Ii0qioIWLVpUuFBaFBKUk56v9z34i/xzRg6OBx7O/Xv/9/u+/58zh0TkQMDmBH4QBT3gFDgM8nc/l6tICRgGSfAYvAar4C8wwBo4nbMgtiC4DF6Bn0CysAVm9iuoHF0CH4HYYMvhcFzblyC2o+AJSAMBhh1RCN63JYgtb3tfDK6CFRsCupgUFRU9Y2ZsOcQWAnNgU3NlC6fTKT6f73tpaWmbHYcR8BRIDhhwuFleXj6mC+ppPAbeAskVCIrX673H2JYOXS5XV15e3qdchRRut1sqKyuf19XVeTIEKyoqavPz819q9cqZ6urqFVXH3el0ocgP4Y4nB0pZWdkGmueCLngObNhpdQWyYXaix+ORQCAgxcXFYjXgwsJCiUQi8zh27G7/D1YCDFBSUsI6cKRsAp6TnesDAwMyOTkp4+Pj0tDQkBEDfSE1NTVvuLgrwRtZHLHDpLOzU/r6+qS5uVlQZ4Up1tvbK4lEQpaWlmR5eVmmp6eloKAgYz5WVVV9CwaDEYoFwPts7jCHpKenx3TR3t4ueMmktrZWwuGwDA8PSyqVkrW1NVlfX5dkMslMZMSJRqO/hoaG+ig4mq12HBm6S+rr6yUWi7EOEgqFuKeYeX1wcFBmZ2dlcXHRZGJiglNBj0XBf8jUGQpez+KOLzKldMmUKFd8mVDQdD0yMiJTU1MSj8elra2NDZURj7VtbW29SMHbVoLsQDaF3++nGJ0pdxQzHTc1NUljY6O0tLRQmANgRqw61dh+foaCd9VFrZVZC7a7EqQ7jpQiFCQU5yDoXk0NOtSzZSCdbLorFLyjCfKF3YLsRuWOLpQoxXisBJkNloECeraM/v5+ZsJ0eMuqfmxtjpZBKMjOpEOsiUqY8Jj3OE1Yb3PO6fEYB4JpPDdGwbMgraeULjlaLEmqYZSYgue8zrVSpZOdrQtyYJyvXFgqKegFy8BqhVBpZVCuFkwtHRGe0z3vs1mYFculsKury+ju7k7srKUYVRw3/2RJLbuVQdX0oAiPCVPO+0pMh89T8AUXGCVIl24wb9Gtqujqh5QC3NM54cLN+5aLNt/p6Oj4gdSfpI7+axHTFnBdlDVlEKIJWa5S7GQDC0FSaRCrT8F32UQZnDVhMH2u6WJwxXm64MOmC+qiR8BLIPv45TdQSzbWb6wqc8hEUI+f7YutHCTAqlVQDeWeaWaTfMF8Pc8/N1pcW9+lJ8AC+Aq29qhvGnPwMyb/I7jq3Sum3c/8MBgFN0EKPCBIXwpCCTTTcexr7MT6D9eNFIrhqHsGAAAAAElFTkSuQmCC);background-size:14px 16px}.cost-dark-elixir,.cost-gold{background-position:100% 50%;background-repeat:no-repeat;padding-right:19px}.cost-gold{background-image:url(data:image/png;base64,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);background-size:15px 16px}.button,.button:link,.button:visited{color:#444;cursor:pointer;display:inline-block;padding:3px 7px;border:1px solid #999;border-radius:5px;background-color:#fcfcfc;background-image:-webkit-linear-gradient(#fcfcfc,#ececec);background-image:-o-linear-gradient(#fcfcfc,#ececec);background-image:linear-gradient(#fcfcfc,#ececec);line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:400;text-decoration:none}.button:hover{background-image:-webkit-linear-gradient(#fcfcfc,#e0e0e0);background-image:-o-linear-gradient(#fcfcfc,#e0e0e0);background-image:linear-gradient(#fcfcfc,#e0e0e0)}.button:active{color:#444;background:#e3e3e3}.button_after{margin-left:7px}.button_middle{vertical-align:middle}.button_social,.button_social:link,.button_social:visited{border-color:#99b;padding-top:4px;padding-bottom:4px;background-color:#fcfcff;background-image:-webkit-linear-gradient(#fcfcff,#ececff);background-image:-o-linear-gradient(#fcfcff,#ececff);background-image:linear-gradient(#fcfcff,#ececff);font-size:14px}.button_social:hover{background-image:-webkit-linear-gradient(#fcfcff,#e0e0ff);background-image:-o-linear-gradient(#fcfcff,#e0e0ff);background-image:linear-gradient(#fcfcff,#e0e0ff)}.button_social:active{background:#e3e3ff}.icon-twitter{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAaCAMAAADhRa4NAAAAM1BMVEX///8Aq+0An98AquoArO4Aq+4ArO0Aq+sAp+cAq+4Aq+0Aq+0ArO4AquwArO4AqewArO4ca5ejAAAAEHRSTlMAgBAw78+fQCC/j3DfYK9QmmwCjwAAALBJREFUeF6V0NuOwzAIBNABG9/TzP9/7WqTKMWtW6nnddAgwELZRLILNMDTxH9xB/Z6RGLqc+PFIusRVJrrePDJghQAZ9+lcNIBYJDko+DQ6TVfmjIACJ0Nh8zLSD0nOu6uNZxiit8HjB8YTsIPEk46uLbjEiJXIm7aViPi/78QFbfAhQ5n45uKSaicDcWLYHRiwKxIpGMFNxWRZpw0/bq+ZrwormG0gBXNXUS2rPjZHwABG0b9SIF7AAAAAElFTkSuQmCC);background-size:16px 13px;padding-left:19px}.icon-twitter,.icon-facebook{background-position:0 50%;background-repeat:no-repeat}.icon-facebook{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAn1BMVEU7WZj///9DYZ1IZaBJZqGwvdd4jrpCYJ09W5mquNRUcKZngLDv8vdEYp2rudRlfrBJZ6H4+vxAXZtAXptTb6VHZJ/09vlYc6jL1OVMaaKRosZ5j7q2wdnn7PNogLFDYJxGY57y9Pk+XJpRbKTz9flthLRdd6tBXpvH0eOvvNaYqMl9kbv+/v75+vyvvdZVcKbt8PaVpsjp7fTn6/O1wdjusJcKAAAAjUlEQVR4Xu3QxwrDMAyAYcnOTvfee+/1/s9WiVJoCZYg9Nj/JKzvIkMcgpDxYQxiFpRqOUE0byfdtRM0Bi2kDi6QTvGVAzQvKIMrKqDD4N7rB4EDDBmMhDMLDCYaKOYEszK1YLCkYZUFFfxso4GtBnYa2GeBKVFHBicazr/9hz8wMvDAt/XvblXq/eg9nvadC9GU/sKFAAAAAElFTkSuQmCC);background-size:16px 16px;padding-left:21px}.icon-save{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAQAAADYBBcfAAABVElEQVR4Ac3PP2tTURjH8c9zkwbb4lCH+t/ZQsGls7uj4KZBwUUHUVzFweLQSUhBdBSquAiuDr4BRycV34DgYKCYhrS9R3Do4Sbcg9n8PPOX8ztct23w957bMKvSEdjw0hPnHNmRjq4vNC254p41oS9JXjkDVA5ktaTphPu2XUYNbtpyCipltTEOZH1PnaYyv9seUikLndldsy8m08a++e6HpJbt00V23rqm8NY7e9ZdIJsONz0WmhJCslAKe3r+UaXsPwq7INn1W6AsWXZc5HBkywsLkpKw765HlnNYGxo6a0nJyE9DNTkMgWsuStqErwZC5BACbxxTMkbQDGGibALTYcIDlxxq0/HZpsTs1IFe8Y+TtqkdXSWHbVNvWVNrU/ni2fTUJOG9j0p2kaQcUlmxas9ISVi1osohi+64qqOMQyctAmHHDfN6rd/1wS/JPMIn/gAxq1uCJqJ7igAAAABJRU5ErkJggg==);background-size:14px 14px;background-position:0 1px;padding-left:19px;background-repeat:no-repeat}.limit-exceeded{color:#d00}.fixed-content{max-width:800px}.result{font-weight:700}.tooltip{cursor:help}.block-indented{margin-top:30px}.message{font-size:14px;background:#cfc;border:1px solid #8f8;border-radius:5px;padding:3px 7px;line-height:1;vertical-align:middle;font-weight:400}.message_closeable{cursor:pointer}.message_after{margin-left:15px}.message_negative{background:#fdd;border:1px solid #f88}.message_block{display:block}.saved-list{font-size:14px}.saved-list__item{display:inline-block;margin:0 13px 13px 0;border:1px solid #ddd;border-radius:10px;padding:6px 7px 10px;vertical-align:top;color:#444;line-height:1.35}.saved-list__item-title{font-weight:700;color:#222;margin-top:3px;margin-bottom:8px}.saved-list__actions{margin-top:8px}.saved-list__table td{padding-right:8px}.saved-list__item-result{font-size:12px;color:#999;font-weight:700}.footer{border-top:1px solid #ddd;padding-top:12px;margin-top:30px;font-size:14px;color:#999}.footer a:link,.footer a:visited{text-decoration:underline;color:#999}.footer a:hover,.footer a:active{text-decoration:none}.menu-wrapper{position:relative;margin:20px -17px 14px}.menu{list-style:none;padding:0;margin:0;width:100%;background:#fafafa;box-shadow:0 0 5px #bbb;border-collapse:separate;font-size:15px;z-index:500}.menu_fixed{position:fixed;top:0;left:0;box-shadow:0 3px 8px #ccc}.menu li{display:inline-block}.menu li:first-child{margin-left:17px}.menu__item{display:inline-block;padding:4px 10px;border-right:1px solid #d9d9d9;color:#000;cursor:pointer}.menu li:first-child .menu__item{margin-left:-10px}.menu li:last-child .menu__item{border-right:0}.menu .menu__item:hover{background:#efefef}</style>
    <script>"Microsoft Internet Explorer"==navigator.appName&&function(e,t,a,r){e.src="/clash-of-clans/i/favicon-v2.ico",a=t.getElementsByTagName("script")[0],r=a.parentNode.insertBefore(t.createElement("link"),a),r.rel="shortcut icon",r.href=e.src}(new Image,document);</script>
    <link rel="icon" href="/clash-of-clans/i/favicon-v2.png"/>

    <link rel="apple-touch-icon-precomposed" href="/clash-of-clans/i/app-icons/57x57.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/clash-of-clans/i/app-icons/72x72.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/clash-of-clans/i/app-icons/114x114.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/clash-of-clans/i/app-icons/120x120.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/clash-of-clans/i/app-icons/144x144.png"/>
    <meta name="apple-mobile-web-app-title" content="Clash Calc"/>

    <meta property="fb:admins" content="splurov"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@ClashCalc"/>
    <meta name="twitter:creator" content="@Splurov"/>
    <meta name="twitter:title" content="Clash Calc — Troops and Spells Cost Calculator/Time Planner for Clash of Clans"/>
    <meta name="twitter:description" content="Helps to plan the composition of your army, optimize the distribution of troops between barracks for the optimal training time and calculate the cost of the attack in order to remain in plus, after the battle."/>

    <meta property="og:url" content="http://mkln.ru/clash-of-clans/" />
    <meta property="og:title" content="Clash Calc — Troops and Spells Cost Calculator/Time Planner for Clash of Clans" />
    <meta property="og:description" content="Helps to plan the composition of your army, optimize the distribution of troops between barracks for the optimal training time and calculate the cost of the attack in order to remain in plus, after the battle." />
</head>
<body>

<h1>Clash Calc — Troops and Spells Cost Calculator/Time Planner for Clash of Clans</h1>

<div class="fixed-content">
    <p>Helps to plan the composition of your army, optimize the distribution of troops between barracks for the optimal training time and calculate the cost of the attack in order to remain in plus, after the battle.</p>
    <p>
        <a href="https://twitter.com/intent/follow?original_referer=http%3A%2F%2Fmkln.ru%2Fclash-of-clans%2F&amp;screen_name=ClashCalc"
           target="_blank"
           class="button button_social"><span class="icon-twitter">Follow @ClashCalc on Twitter</span></a>
    </p>

    <!--[if lte IE 8]>
    <p class="message message_negative message_block">
        You are using an old version of Internet Explorer which is not supported.<br />
        Upgrade to a modern browser, such as <a href="http://getfirefox.com/" target="_blank">Firefox</a>.
    </p>
    <![endif]-->
</div>


<div class="menu-wrapper js-menu-wrapper">
    <ul class="menu js-menu">
        <li><span class="menu__item js-anchor" data-anchor-target="barracks-anchor">Barracks</span></li><!--
        --><li><span class="menu__item js-anchor" data-anchor-target="dark-anchor">Dark Barracks</span></li><!--
        --><li><span class="menu__item js-anchor" data-anchor-target="spell-anchor">Spell Factory</span></li><!--
        --><li><span class="menu__item js-anchor js-share" data-anchor-target="share-anchor">Share Composition</span></li><!--
        --><li><span class="menu__item js-save-composition" data-scroll="yes"><span class="icon-save">Save Composition</span></span></li><!--
        --><li><span class="menu__item js-anchor" data-anchor-target="saved-anchor">Saved Compositions</span></li>
    </ul>
</div>

<p>
    <span id="view-shared" class="message message_closeable" style="display: none;" title="Click to hide">
        You are viewing shared composition (you can find previous one in the saved compositions)
    </span>
</p>

<h2 id="barracks-anchor">
    <a href="http://clashofclans.wikia.com/wiki/Barracks" class="wikia-link" target="_blank">Barracks</a>
    <span class="message message_negative message_after"
          style="display: none;"
          id="units-barracks-exceeded">Too many units</span>
</h2>
<table id="units" class="data">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>
                Quantity <span class="data-secondary tooltip" title="Army Camps Free Capacity" id="units-quantity"></span>
                <br/><span class="button data-secondary js-reset" data-reset-type="units" data-scope="quantity">Reset</span>
            </th>
            <th><span class="cost-elixir">Total</span></th>
            <th>
                Subtract
                <br/><span class="button data-secondary js-reset" data-reset-type="units" data-scope="subtract">Reset</span>
            </th>
            <th>
                <select id="barracks-levels-1" tabindex="1">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-1"></span>
            </th>
            <th>
                <select id="barracks-levels-2" tabindex="5">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br />
                <span id="units-barrack-header-2"></span>
            </th>
            <th>
                <select id="barracks-levels-3" tabindex="10">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-3"></span>
            </th>
            <th>
                <select id="barracks-levels-4" tabindex="15">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10" selected="selected">10</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="units-barrack-header-4"></span>
            </th>
        </tr>
    </thead>
    <tbody id="units-body">
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2" class="data-secondary number">
                <label for="army-camps"><a href="http://clashofclans.wikia.com/wiki/Army_Camp"
                                           class="wikia-link"
                                           target="_blank">Army Camps</a> Capacity:</label></td>
            <td>
                <span id="units-space" class="result near-field"></span>
                <select id="army-camps" data-object-type="all" tabindex="19">
                    <option value="20">20</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                    <option value="55">55</option>
                    <option value="60">60</option>
                    <option value="65">65</option>
                    <option value="70">70</option>
                    <option value="75">75</option>
                    <option value="80">80</option>
                    <option value="85">85</option>
                    <option value="90">90</option>
                    <option value="95">95</option>
                    <option value="100">100</option>
                    <option value="105">105</option>
                    <option value="110">110</option>
                    <option value="115">115</option>
                    <option value="120">120</option>
                    <option value="125">125</option>
                    <option value="130">130</option>
                    <option value="135">135</option>
                    <option value="140">140</option>
                    <option value="145">145</option>
                    <option value="150">150</option>
                    <option value="155">155</option>
                    <option value="160">160</option>
                    <option value="165">165</option>
                    <option value="170">170</option>
                    <option value="175">175</option>
                    <option value="180">180</option>
                    <option value="185">185</option>
                    <option value="190">190</option>
                    <option value="195">195</option>
                    <option value="200">200</option>
                    <option value="205">205</option>
                    <option value="210">210</option>
                    <option value="215">215</option>
                    <option value="220">220</option>
                    <option value="225">225</option>
                    <option value="230">230</option>
                    <option value="235">235</option>
                    <option value="240" selected="selected">240</option>
                </select>
            </td>
            <td id="units-cost" class="number result"></td>
            <td id="units-subtracted-cost" class="data-secondary"></td>
            <td id="units-time-barrack-1" class="number"></td>
            <td id="units-time-barrack-2" class="number"></td>
            <td id="units-time-barrack-3" class="number"></td>
            <td id="units-time-barrack-4" class="number"></td>
        </tr>
    </tfoot>
</table>

<h2 id="dark-anchor">
    <a href="http://clashofclans.wikia.com/wiki/Dark_Barracks" class="wikia-link" target="_blank">Dark Barracks</a>
    <span class="message message_negative message_after"
          style="display: none;"
          id="dark-barracks-exceeded">Too many units</span>
</h2>
<table id="dark" class="data">
    <thead>
        <tr>
            <th>Unit</th>
            <th>Level</th>
            <th>
                Quantity <span class="data-secondary tooltip" title="Army Camps Free Capacity" id="dark-quantity"></span>
                <br/><span class="button data-secondary js-reset" data-reset-type="dark" data-scope="quantity">Reset</span>
            </th>
            <th><span class="cost-dark-elixir">Total</span></th>
            <th>
                Subtract
                <br/><span class="button data-secondary js-reset" data-reset-type="dark" data-scope="subtract">Reset</span>
            </th>
            <th>
                <select id="dark-barracks-levels-1" tabindex="20">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="selected">5</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="dark-barrack-header-1"></span>
            </th>
            <th>
                <select id="dark-barracks-levels-2" tabindex="25">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="selected">5</option>
                </select> <span class="near-field">lvl</span><br/>
                <span id="dark-barrack-header-2"></span>
            </th>
        </tr>
    </thead>
    <tbody id="dark-body">
    </tbody>
    <tfoot>
        <tr>
            <td></td>
            <td></td>
            <td id="dark-space" class="result"></td>
            <td id="dark-cost" class="number result"></td>
            <td id="dark-subtracted-cost" class="data-secondary"></td>
            <td id="dark-time-barrack-1" class="number"></td>
            <td id="dark-time-barrack-2" class="number"></td>
        </tr>
    </tfoot>
</table>

<h2 id="spell-anchor"><a href="http://clashofclans.wikia.com/wiki/Spell_Factory" class="wikia-link" target="_blank">Spell Factory</a></h2>
<table id="spells" class="data">
    <thead>
        <tr>
            <th>Spell</th>
            <th>Level</th>
            <th>Quantity <span class="data-secondary tooltip" title="Spell Factory Free Capacity" id="spells-quantity"></span></th>
            <th><span class="cost-gold">Total</span></th>
            <th>
                <select id="spell-factory-level" tabindex="35">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="selected">5</option>
                </select> <span class="near-field">lvl</span>
            </th>
        </tr>
    </thead>
    <tbody id="spells-body">
    </tbody>
    <tfoot>
        <tr>
            <td></td>
            <td></td>
            <td class="result" id="spells-space"></td>
            <td id="spells-cost" class="number result"></td>
            <td class="result number" id="spells-time"></td>
        </tr>
    </tfoot>
</table>

<div class="js-share">
    <h2 class="block-indented" id="share-anchor">Share Composition</h2>
    <p class="fixed-content">
        <input id="share-permalink" class="field-long" tabindex="1901"/>
    </p>
    <p>
        <a href="" target="_blank" id="share-twitter" class="button button_social" tabindex="1903">
            <span class="icon-twitter">Share Composition on Twitter</span>
        </a>
        <a href="" target="_blank" id="share-facebook" class="button button_after button_social" tabindex="1904">
            <span class="icon-facebook">Share Composition on Facebook</span>
        </a>
    </p>
    <p class="fixed-content block-indented">
        <textarea id="share-text" class="field-long" tabindex="1905" rows="2"></textarea>
    </p>
</div>

<h2 class="block-indented" id="saved-anchor">Saved Compositions</h2>
<p>Values from the “Subtract” columns not saved.</p>
<p>
    <span class="js-save-composition button" tabindex="2000"><span class="icon-save">Save Composition</span></span>

    <span id="already-saved" class="message message_after message_closeable" style="display: none;" title="Click to hide">
        Already in the saved compositions
    </span>
</p>

<div id="saved-list" class="saved-list">
    <div id="saved-list-content" class="saved-list__content">
    </div>
</div>

<script>/**
* @preserve Copyright 2012 Twitter, Inc.
* @license http://www.apache.org/licenses/LICENSE-2.0.txt
*/
var Hogan={};(function(a,b){function i(a){return String(a===null||a===undefined?"":a)}function j(a){return a=i(a),h.test(a)?a.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&#39;").replace(g,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(a,b,c){return""},v:j,t:i,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&typeof e=="string"&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ls(a,b,c,d,e,f,g)),h=a===""||!!a,!d&&h&&b&&b.push(typeof a=="object"?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&typeof f=="object"&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var h=b.length-1;h>=0;h--){f=b[h];if(f&&typeof f=="object"&&a in f){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=d==null?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);i=a.call(h);if(typeof i=="function"){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,c){var d=b[b.length-1],e=a.call(d);if(typeof e=="function"){e=i(e.call(d));if(this.c&&~e.indexOf("{{"))return this.c.compile(e,this.options).render(d,c)}return i(e)}};var c=/&/g,d=/</g,e=/>/g,f=/\'/g,g=/\"/g,h=/[&<>\"\']/,k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan)</script>

<script>!function(){"use strict";var e={};window.mk=e,e.ios=!!navigator.userAgent.match(/(?:iPad|iPhone|iPod)/i),e.toArray=function(e){var t,a,n=[];for(t=0,a=e.length;a>t;t++)n.push(e[t]);return n},Function.prototype.bind||(Function.prototype.bind=function(t){var a=this,n=e.toArray(arguments).slice(1);return function(){return a.apply(t,n.concat(e.toArray(arguments)))}}),e.objectIterate=function(e,t){var a;for(a in e)if(e.hasOwnProperty(a)&&t(a,e[a])===!1)break},e.objectCopy=function(t){var a=t.constructor();return e.objectIterate(t,function(e,t){a[e]=t}),a},e.objectExtend=function(t,a){if(!a)return t;var n=t;return e.objectIterate(a,function(t,a){n[t]="[object Object]"===Object.prototype.toString.call(a)?e.objectCopy(a):a}),n},e.numberFormat=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.convertToTitle=function(e){return e.replace("_"," ").replace(/-/g,".")},e.getFormattedTime=function(e,t){var a="",n=e;if(n>3599&&(a+=Math.floor(n/3600)+"h ",n%=3600),n>59){var l=Math.floor(n/60);n%=60,t&&n>0&&l++,a+=l+"m "}else a+="0m ";return""!==a&&t||(a+=n+"s"),a},e.Dict=function(e){this.data=e,this.get=function(e,t){var a=this.data[e];return void 0===t||void 0!==a&&null!==a?a:t},this.set=function(e,t){this.data[e]=t},this.getAll=function(){return this.data}},e.MultiDict=function(t){this.entries=[],this.retrieve=function(t){return this.entries[t]||new e.Dict({})},this.update=function(e,t){this.entries[e]=t},this.insert=function(t){this.entries.push(new e.Dict(t))},this.remove=function(e){this.entries.splice(e,1)},this.getAll=function(){return this.entries.map(function(e){return e.getAll()})},this.forEach=function(e){this.entries.forEach(e)},t.forEach(this.insert.bind(this))},e.addEvents=function(e,t,a){t.forEach(function(t){e.addEventListener(t,a,!1)})},e.getAllByClass=function(t,a){return e.toArray((a||document).getElementsByClassName(t))},e.getAll=function(t,a){return e.toArray((a||document).querySelectorAll(t))},e.selectAll=function(e){-1!==["input","textarea"].indexOf(e.currentTarget.tagName.toLowerCase())&&setTimeout(function(e){e.setSelectionRange(0,e.value.length)}.bind(null,e.currentTarget),10)},e.infoMessage=function(t,a){var n,l=document.getElementById(t),r=function(e){e&&(e.preventDefault(),e.stopPropagation()),clearTimeout(n),l.style.display="none"};return e.addEvents(l,["click","touchend"],r),{show:function(){l.style.display="inline-block",a&&(n=setTimeout(function(){l.style.display="none"},2e3))},hide:r}},e.getTopPosition=function(e){var t=0;do t+=e.offsetTop;while(e=e.offsetParent);return t},e.Events={events:{},trigger:function(e,t){this.events[e]&&this.events[e].forEach(function(e){e(t)})},listen:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}}}(),function(e){"use strict";e.calc={},e.calc.types={units:{Barbarian:[20,[25,40,60,80,100,150],1,1],Archer:[25,[50,80,120,160,200,300],1,2],Goblin:[30,[25,40,60,80,100],1,3],Giant:[120,[500,1e3,1500,2e3,2500,3e3],5,4],Wall_Breaker:[120,[1e3,1500,2e3,2500,3e3,3500],2,5],Balloon:[600,[2e3,2500,3e3,3500,4e3,4500],5,6],Wizard:[600,[1500,2e3,2500,3e3,3500],4,7],Healer:[900,[5e3,6e3,8e3,1e4],14,8],Dragon:[1800,[25e3,3e4,36e3,42e3],20,9],"P-E-K-K-A-":[2700,[3e4,35e3,42e3,5e4],25,10]},dark:{Minion:[45,[6,7,8,9,10],2,1],"Hog Rider":[300,[30,35,40,45,50],5,2],Valkyrie:[900,[70,100,130,160],8,3],Golem:[2700,[450,525,600,675,750],30,4],Witch:[1200,[250,350],12,5]},spells:{Lightning:[1800,[15e3,16500,18e3,2e4,22e3,24e3],1,1],Healing:[1800,[2e4,22e3,24e3,26500,29e3,32e3],1,2],Rage:[2700,[3e4,33e3,36e3,4e4,44e3],1,3],Jump:[2700,[3e4,38e3],1,4],Freeze:[2700,[35e3,4e4,45e3],1,5]}},e.calc.saveMappingKeys=["barracks-levels-1","barracks-levels-2","barracks-levels-3","barracks-levels-4","dark-barracks-levels-1","dark-barracks-levels-2","armyCamps","spellFactoryLevel","Barbarian","Archer","Goblin","Giant","Wall_Breaker","Balloon","Wizard","Healer","Dragon","P-E-K-K-A-","Barbarian-level","Archer-level","Goblin-level","Giant-level","Wall_Breaker-level","Balloon-level","Wizard-level","Healer-level","Dragon-level","P-E-K-K-A--level","Barbarian-subtract","Archer-subtract","Goblin-subtract","Giant-subtract","Wall_Breaker-subtract","Balloon-subtract","Wizard-subtract","Healer-subtract","Dragon-subtract","P-E-K-K-A--subtract","Lightning","Healing","Rage","Jump","Lightning-level","Healing-level","Rage-level","Jump-level","Minion","Hog Rider","Valkyrie","Golem","Minion-level","Hog Rider-level","Valkyrie-level","Golem-level","Minion-subtract","Hog Rider-subtract","Valkyrie-subtract","Golem-subtract","Freeze","Freeze-level","Witch","Witch-level","Witch-subtract"],e.calc.dataObjectToArray=function(t){var a=[];return e.calc.saveMappingKeys.forEach(function(e){var n;n=t.hasOwnProperty(e)?t[e]:0,a.push(n)}),a},e.calc.dataArrayToObject=function(t){var a={};return e.calc.saveMappingKeys.forEach(function(e,n){a[e]=void 0===t[n]?0:t[n]}),a};var t=function(t){this.key=t,this.load=function(t){var a=localStorage.getItem(this.key);return a=a&&JSON.parse(a)||[],t?a:a=a.map(function(t){return e.calc.dataArrayToObject(t)})},this.save=function(t){var a=t.map(function(t){return e.calc.dataObjectToArray(t)});localStorage.setItem(this.key,JSON.stringify(a))}},a=function(t,a,n){this.barracks=[],this.maxCount=t,this.queueLengths=n;var l;for(l=1;l<=this.maxCount;l++){var r=document.getElementById(a+"-"+l);this.barracks.push(r)}this.setDefaults=function(){this.barracks.forEach(function(t){var a=e.calc.savedData.get(t.getAttribute("id"));void 0!==a&&null!==a&&(t.options[a].selected=!0)})},this.updateSavedData=function(){this.barracks.forEach(function(t){e.calc.savedData.set(t.getAttribute("id"),t.selectedIndex)})},this.getMaxLevel=function(){return Math.max.apply(null,this.barracks.map(function(e){return parseInt(e.value,10)}))},this.getAllNormalized=function(){return this.barracks.map(function(e){return{level:parseInt(e.value,10),queueLength:this.queueLengths[e.value]}},this)},this.getQueue=function(){return this.barracks.map(function(e){return{num:e.getAttribute("id").slice(-1),time:0,space:0,maxSpace:this.queueLengths[e.value],units:{},level:parseInt(e.value,10)}},this)},this.getElements=function(){return this.barracks},this.getMaxCount=function(){return this.maxCount},this.getCapLevel=function(){return this.barracks[0].options[this.barracks[0].options.length-1].value},this.getActiveCount=function(){return this.barracks.filter(function(e){return e.value>0}).length}};e.calc.savedDataStorage=new t("data3"),e.calc.savedDataAll=new e.MultiDict(e.calc.savedDataStorage.load()),e.calc.savedData=e.calc.savedDataAll.retrieve(0),e.calc.allBarracks={units:new a(4,"barracks-levels",[0,20,25,30,35,40,45,50,55,60,75]),dark:new a(2,"dark-barracks-levels",[0,40,50,60,70,80])},e.calc.armyCamps=document.getElementById("army-camps"),e.calc.spellFactoryLevel=document.getElementById("spell-factory-level")}(window.mk),function(e){"use strict";var t=document.querySelector(".js-menu-wrapper"),a=document.querySelector(".js-menu"),n=e.getTopPosition(a),l=a.offsetHeight;t.style.height=l+"px";var r=15,s=!1;e.ios||(r+=l,document.addEventListener("scroll",function(){window.pageYOffset>=n?s||(a.className+=" menu_fixed ",s=!0):s&&(s=!1,a.className=a.className.replace(" menu_fixed ",""))},!1));var c=function(t){var a=window.pageYOffset,n=e.getTopPosition(t)-r,l=a>n,s=l?a-n:n-a,c=100+s/20,i=16,o=Math.round(s/(c/i)),u=setInterval(function(){l?(a-=o,n>a&&(a=n)):(a+=o,a>n&&(a=n)),window.scrollTo(window.pageXOffset,a),a===n&&clearInterval(u)},i)};e.Events.listen("scrollTo",c);var i=function(e){e.preventDefault(),e.stopPropagation(),c(document.getElementById(e.currentTarget.getAttribute("data-anchor-target")))};e.getAllByClass("js-anchor").forEach(function(t){e.addEvents(t,["click","touchend"],i)})}(window.mk),function(e){"use strict";var t={};e.objectIterate(e.calc.types,function(a,n){t[a]=[],e.objectIterate(n,function(e,n){t[a].unshift(n.concat(e))})});var a={units:0,dark:0},n=function(t){e.calc.allBarracks[t].getAllNormalized().forEach(function(e,a){var n;n=0===parseInt(e.level,10)?"":'<span class="data-secondary tooltip" title="Maximum Queue Length">(max '+e.queueLength+")</span>",document.getElementById(t+"-barrack-header-"+(a+1)).innerHTML=n})},l=function(e,t,a){var n=e-t;0>n&&(n='<span class="limit-exceeded">'+n+"</span>"),document.getElementById(a+"-quantity").innerHTML="("+n+" free)";var l=t;t>e&&(l='<span class="limit-exceeded">'+t+"</span>"),l=l+" / "+("units"!==a?e:""),document.getElementById(a+"-space").innerHTML=l},r=function(e,t){return e.time<t.time?-1:e.time>t.time?1:e.space<t.space?-1:e.space>t.space?1:e.maxSpace<t.maxSpace?-1:e.maxSpace>t.maxSpace?1:0},s=function(e,t){return e.level<t.level?-1:e.level>t.level?1:r(e,t)},c=function(e,t,a,n,l){var c=e.filter(function(e){return e.level>=t&&e.space+a<=e.maxSpace});if(!c.length)return null;if(c.length>1){if(1===a){var i=c.filter(function(e){return e.time+n<=l});if(i.length)return i.length>1&&i.sort(s),i[0]}c.sort(r)}return c[0]},i=function(e,t,a){var n,l,r=!1;for(n=0,l=t.length;l>n;n++){var s,i=t[n],o=i[2],u=i[3],d=i[4],v=null;for(s=0;s<i[1];s++){var b=!0;if(v){var p=v.time+u,f=v.space+d;1===d&&a>=p&&f<=v.maxSpace/1.7&&(b=!1)}if(b&&(v=c(e,o,d,u,a)),null===v){r=!0;break}v.units[i[0]]?v.units[i[0]]++:v.units[i[0]]=1,v.time+=u,v.space+=d}}return!r},o=function(a,n,l){var r,s=l.length;if(a){document.getElementById(n+"-barracks-exceeded").style.display="none";var c=0,i=1;for(r=0;s>r;r++){var o,u=l[r];for(o in u.units)u.units[o]>0&&(document.getElementById("quantity-"+t[n][o][4]+"-"+u.num).textContent="×"+u.units[o]);u.time>c&&(c=u.time,i=u.num),document.getElementById(n+"-time-barrack-"+u.num).textContent=u.time?e.getFormattedTime(u.time):""}var d=document.getElementById(n+"-time-barrack-"+i);d.innerHTML='<span class="result">'+d.textContent+"</span>"}else for(document.getElementById(n+"-barracks-exceeded").style.display="",r=0;s>r;r++)document.getElementById(n+"-time-barrack-"+l[r].num).textContent=""},u=function(n,r){var s;for(s=r.capLevel;s>=1;s--)document.getElementById(n+"-building-level-"+s).style.display=s>r.levelValue?"none":"";var c,u,d=0,v=0,b=0,p=0,f=0,m=[];for(c=0,u=t[n].length;u>c;c++){var g=t[n][c];if(!(g[3]>r.levelValue)){var h=g[4],y=document.getElementById(h),k=parseInt(y.value,10)||0;0>k&&(k=0),""!==y.value&&(y.value=k);var E=h+"-level",I=document.getElementById(E),x=document.getElementById(h+"-summary"),B=I.value,A=B*k;if(x.textContent=A?e.numberFormat(A):0,d+=A,b+=g[2]*k,"spells"===n)p+=g[0]*k;else{var w;for(w=1;w<=e.calc.allBarracks[n].getMaxCount();w++)document.getElementById("quantity-"+h+"-"+w).textContent="";var C=h+"-subtract",D=document.getElementById(C),T=parseInt(D.value,10)||0;0>T&&(T=0),""!==D.value&&(D.value=T);var L=k-T;0>L&&(L=0),L>0&&(m.push([c,k-T,g[3],g[0],g[2]]),f=Math.max(f,g[0]),p+=g[0]*L),v+=B*L,e.calc.savedData.set(C,T)}e.calc.savedData.set(h,k),e.calc.savedData.set(E,I.selectedIndex)}}if(document.getElementById(n+"-cost").textContent=e.numberFormat(d),"spells"===n)l(r.space,b,n),p>0&&(document.getElementById(n+"-time").textContent=e.getFormattedTime(p,!0));else{var j=e.calc.allBarracks[n].getQueue(),S=Math.max(Math.ceil(p/e.calc.allBarracks[n].getActiveCount()),f),M=i(j,m,S);o(M,n,j),a[n]+=b;var _=document.getElementById(n+"-subtracted-cost");v===d?_.textContent="":_.innerHTML="− "+e.numberFormat(d-v)+' = <span class="result">'+e.numberFormat(v)+"</span>"}},d=null,v=null,b=function(t){if(clearTimeout(d),clearTimeout(v),d=null,"all"===t||"spells"!==t){("all"===t||"barrack-units"===t)&&n("units"),("all"===t||"barrack-dark"===t)&&n("dark");var r=parseInt(e.calc.armyCamps.value,10);("all"===t||"units"===t||"barrack-units"===t)&&(a.units=0,u("units",{levelValue:e.calc.allBarracks.units.getMaxLevel(),capLevel:e.calc.allBarracks.units.getCapLevel()})),("all"===t||"dark"===t||"barrack-dark"===t)&&(a.dark=0,u("dark",{levelValue:e.calc.allBarracks.dark.getMaxLevel(),capLevel:e.calc.allBarracks.dark.getCapLevel()}));var s=a.units+a.dark;l(r,s,"units"),l(r,s,"dark"),e.calc.savedData.set("armyCamps",r),e.calc.allBarracks.units.updateSavedData(),e.calc.allBarracks.dark.updateSavedData()}("all"===t||"spells"===t)&&(u("spells",{levelValue:parseInt(e.calc.spellFactoryLevel.value,10),space:e.calc.spellFactoryLevel.value,capLevel:e.calc.spellFactoryLevel.options[e.calc.spellFactoryLevel.options.length-1].value}),e.calc.savedData.set("spellFactoryLevel",e.calc.spellFactoryLevel.selectedIndex)),e.calc.savedDataAll.update(0,e.calc.savedData),e.calc.savedDataStorage.save(e.calc.savedDataAll.getAll()),e.Events.trigger("calculated")};e.Events.listen("calculate",b)}(window.mk),function(e,t){"use strict";var a=new t.Template(function(e,t,a){var n=this;return n.b(a=a||""),n.b('<div class="saved-list__item" id="saved-list-item-'),n.b(n.v(n.f("index",e,t,0))),n.b('">'),n.b("\n"+a),n.s(n.f("hasCapacity",e,t,1),e,t,0,82,194,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('        <div class="saved-list__item-result">'),n.b("\n"+a),n.b("            "),n.b(n.v(n.f("totalCapacity",e,t,0))),n.b(" / "),n.b(n.v(n.f("armyCamps",e,t,0))),n.b("\n"+a),n.b("        </div>"),n.b("\n")}),e.pop()),n.b("\n"+a),n.s(n.f("hasUnits",e,t,1),e,t,0,229,574,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('        <table class="saved-list__table">'),n.b("\n"+a),n.s(n.f("units",e,t,1),e,t,0,294,445,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("                <tr>"),n.b("\n"+a),n.b('                    <td class="number">'),n.b(n.v(n.f("quantity",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                    <td>"),n.b(n.v(n.f("name",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                </tr>"),n.b("\n")}),e.pop()),n.b("        </table>"),n.b("\n"+a),n.b('        <div class="saved-list__item-title"><span class="cost-elixir">'),n.b(n.v(n.f("totalCost",e,t,0))),n.b("</span></div>"),n.b("\n")}),e.pop()),n.b("\n"+a),n.s(n.f("hasDark",e,t,1),e,t,0,605,958,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('        <table class="saved-list__table">'),n.b("\n"+a),n.s(n.f("dark",e,t,1),e,t,0,669,820,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("                <tr>"),n.b("\n"+a),n.b('                    <td class="number">'),n.b(n.v(n.f("quantity",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                    <td>"),n.b(n.v(n.f("name",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                </tr>"),n.b("\n")}),e.pop()),n.b("        </table>"),n.b("\n"+a),n.b('        <div class="saved-list__item-title"><span class="cost-dark-elixir">'),n.b(n.v(n.f("darkCost",e,t,0))),n.b("</span>&nbsp;</div>"),n.b("\n")}),e.pop()),n.b("\n"+a),n.s(n.f("hasSpells",e,t,1),e,t,0,990,1453,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('        <div class="saved-list__item-result">'),n.b("\n"+a),n.b("            "),n.b(n.v(n.f("spellsCapacity",e,t,0))),n.b(" / "),n.b(n.v(n.f("spellsFactoryLevel",e,t,0))),n.b("\n"+a),n.b("        </div>"),n.b("\n"+a),n.b('        <table class="saved-list__table">'),n.b("\n"+a),n.s(n.f("spells",e,t,1),e,t,0,1173,1324,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("                <tr>"),n.b("\n"+a),n.b('                    <td class="number">'),n.b(n.v(n.f("quantity",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                    <td>"),n.b(n.v(n.f("name",e,t,0))),n.b("</td>"),n.b("\n"+a),n.b("                </tr>"),n.b("\n")}),e.pop()),n.b("        </table>"),n.b("\n"+a),n.b('        <div class="saved-list__item-title"><span class="cost-gold">'),n.b(n.v(n.f("spellsCost",e,t,0))),n.b("</span></div>"),n.b("\n")}),e.pop()),n.b("\n"+a),n.b('    <div class="saved-list__actions">'),n.b("\n"+a),n.b('        <span class="button js-saved-load"'),n.b("\n"+a),n.b('              data-num="'),n.b(n.v(n.f("index",e,t,0))),n.b('"'),n.b("\n"+a),n.b('              tabindex="'),n.b(n.v(n.f("tabIndexLoad",e,t,0))),n.b('"'),n.b("\n"+a),n.b('              title="Current composition will be lost">'),n.b("\n"+a),n.b("            Load"),n.b("\n"+a),n.b("        </span>"),n.b("\n"+a),n.b('        <span class="button button_after js-saved-delete"'),n.b("\n"+a),n.b('              data-num="'),n.b(n.v(n.f("index",e,t,0))),n.b('"'),n.b("\n"+a),n.b('              tabindex="'),n.b(n.v(n.f("tabIndexDelete",e,t,0))),n.b('">'),n.b("\n"+a),n.b("            Delete"),n.b("\n"+a),n.b("        </span>"),n.b("\n"+a),n.b("    </div>"),n.b("\n"+a),n.b("</div>"),n.fl()}),n=function(){var t=[];e.calc.savedDataAll.forEach(function(n,l){if(0!==l){var r,s,c={index:l,tabIndexLoad:l+3e3+1,tabIndexDelete:l+3e3+2},i=[],o=0,u=0,d=[];for(r=1,s=4;s>=r;r++)d.push(n.get("barracks-levels-"+r,10));e.objectIterate(e.calc.types.units,function(t,a){var l=parseInt(n.get(t),10)||0,r=Math.max.apply(null,d.map(function(e,t){return 0===t?e+1:e}));l>0&&a[3]<=r&&(i.push({name:e.convertToTitle(t),quantity:l}),o+=a[1][n.get(t+"-level")]*l,u+=a[2]*l)}),i.length&&(c.hasUnits={units:i,totalCost:e.numberFormat(o)});var v,b,p=[];for(v=1,b=2;b>=v;v++)p.push(n.get("dark-barracks-levels-"+v,5));var f=Math.max.apply(null,p);if(f>0){var m=[],g=0;e.objectIterate(e.calc.types.dark,function(t,a){var l=parseInt(n.get(t),10)||0;l>0&&a[3]<=f&&(m.push({name:e.convertToTitle(t),quantity:l}),g+=a[1][n.get(t+"-level")]*l,u+=a[2]*l)}),m.length&&(c.hasDark={dark:m,darkCost:e.numberFormat(g)})}if(u>0&&(c.hasCapacity={totalCapacity:u,armyCamps:n.get("armyCamps")}),n.get("spellFactoryLevel")>0){var h=[],y=0,k=0;e.objectIterate(e.calc.types.spells,function(t,a){var l=parseInt(n.get(t),10)||0;l>0&&a[3]<=n.get("spellFactoryLevel")&&(h.push({name:e.convertToTitle(t),quantity:l}),y+=a[1][n.get(t+"-level")]*l,k+=a[2]*l)}),h.length&&(c.hasSpells={spells:h,spellsCost:e.numberFormat(y),spellsCapacity:k,spellsFactoryLevel:n.get("spellFactoryLevel")})}t.push(a.render(c))}});var l=document.getElementById("saved-list-content");l.innerHTML=t.join("");var r=document.getElementById("barracks-anchor"),s=function(t){t.preventDefault(),t.stopPropagation();var a=e.objectCopy(e.calc.savedDataAll.retrieve(t.currentTarget.getAttribute("data-num")).getAll());e.calc.savedData=new e.Dict(a),e.Events.trigger("setDefaults"),e.Events.trigger("calculate","all"),n(),e.Events.trigger("loaded"),e.Events.trigger("scrollTo",r)};e.getAllByClass("js-saved-load",l).forEach(function(t){e.addEvents(t,["click","touchend"],s)});var c=function(t){t.preventDefault(),t.stopPropagation(),e.calc.savedDataAll.remove(t.currentTarget.getAttribute("data-num")),e.calc.savedDataStorage.save(e.calc.savedDataAll.getAll()),n()};e.getAllByClass("js-saved-delete",l).forEach(function(t){e.addEvents(t,["click","touchend"],c)})},l=e.infoMessage("already-saved",!0),r=document.getElementById("saved-anchor"),s=function(t){var a={showMessage:!0},r=e.objectExtend(a,t);l.hide();var s=e.calc.savedDataStorage.load(!0);if(s[0]){e.calc.saveMappingKeys.forEach(function(e,t){-1!==e.indexOf("subtract")&&(s[0][t]=0)});var c,i,o=JSON.stringify(s[0]);for(c=1,i=s.length;i>c;c++){var u=JSON.stringify(s[c]);if(o===u)return r.showMessage&&l.show(),!1}var d=e.objectCopy(e.calc.savedData.getAll());return e.calc.savedDataAll.insert(d),e.calc.savedDataStorage.save(e.calc.savedDataAll.getAll()),n(),!0}};e.Events.listen("save",s);var c=function(t){t.preventDefault(),t.stopPropagation(),"yes"===t.currentTarget.getAttribute("data-scroll")&&e.Events.trigger("scrollTo",r),s()};e.getAllByClass("js-save-composition").forEach(function(t){e.addEvents(t,["click","touchend"],c)}),n()}(window.mk,window.Hogan),function(e){"use strict";var t=function(){if(-1!==location.search.indexOf("?l=")){var t=e.infoMessage("view-shared"),a=location.search.substr(3);a=decodeURIComponent(a),e.__globalSharedLink=a,a=a.replace(/[a-z]/g,","),a=a.replace(/,(?=,)/g,",0"),a="["+a+"]",a=JSON.parse(a),a=e.calc.dataArrayToObject(a),history.replaceState&&history.replaceState({},"",location.protocol+"//"+location.host+location.pathname),e.Events.trigger("save",{showMessage:!1}),e.calc.savedData=new e.Dict(a),t.show(),e.Events.listen("loaded",function(){t.hide()})}};t();var a=document.getElementById("share-twitter"),n=document.getElementById("share-facebook"),l=document.getElementById("share-permalink");l.addEventListener("click",e.selectAll,!1);var r=function(){var t="http://mkln.ru/clash-of-clans/?l=",r=e.calc.savedData.getAll();r=e.calc.dataObjectToArray(r),r=JSON.stringify(r),r=r.replace(/\b(?:null|0)\b/g,""),r=r.substr(1,r.length-2),r=r.replace(/,+$/,"");var s=97;r=r.replace(/,/g,function(){var e=String.fromCharCode(s);return 122===s?s=97:s++,e}),l.value=t+r;var c=encodeURIComponent(t+r);a.setAttribute("href","https://twitter.com/share?url="+c+"&via=ClashCalc&hashtags=ClashOfClans"),n.setAttribute("href","https://www.facebook.com/sharer/sharer.php?u="+c)},s=document.getElementById("share-text");s.addEventListener("click",e.selectAll,!1);var c={1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹"},i={units:"Elixir",dark:"Dark Elixir",spells:"Gold"},o=function(){var t=e.calc.savedData.getAll(),a=[],n=[];return e.objectIterate(e.calc.types,function(l,r){var s;s="spells"===l?parseInt(e.calc.spellFactoryLevel.value,10):e.calc.allBarracks[l].getMaxLevel(),e.objectIterate(r,function(n,l){t[n]>0&&l[3]<=s&&a.push(e.convertToTitle(n)+c[t[n+"-level"]+1]+" ×"+t[n])});var o=document.getElementById(l+"-cost").textContent;"0"!==o&&n.push(o+" "+i[l])}),a.length?(s.value=a.join(", ")+" — "+n.join(", "),!0):!1},u=e.getAllByClass("js-share"),d=function(){o()?(r(),u.forEach(function(e){e.style.display=""})):u.forEach(function(e){e.style.display="none"})};e.Events.listen("calculated",d)}(window.mk),function(e,t){"use strict";var a=function(){e.calc.allBarracks.units.setDefaults(),e.calc.allBarracks.dark.setDefaults();var t=e.calc.savedData.get("armyCamps",e.calc.armyCamps.value),a=e.calc.armyCamps.querySelector('option[value="'+t+'"]');a&&(a.selected=!0);var n=e.calc.savedData.get("spellFactoryLevel",e.calc.spellFactoryLevel.selectedIndex);e.calc.spellFactoryLevel.options[n].selected=!0;var l=function(t){e.objectIterate(e.calc.types[t],function(a){var n=a+"-level",l=document.getElementById(n);l.options[e.calc.savedData.get(n,l.selectedIndex)].selected=!0;var r=document.getElementById(a);if("spells"===t)r.options[e.calc.savedData.get(a,r.selectedIndex)].selected=!0;else{r.value=e.calc.savedData.get(a)||0;var s=a+"-subtract";document.getElementById(s).value=e.calc.savedData.get(s)||0}})};l("units"),l("spells"),l("dark")};e.Events.listen("setDefaults",a),e.objectIterate(e.calc.allBarracks,function(t,a){a.getElements().forEach(function(a){a.addEventListener("change",e.Events.trigger.bind(null,"calculate","barrack-"+t),!1)})}),e.calc.armyCamps.addEventListener("change",e.Events.trigger.bind(null,"calculate","all"),!1),e.calc.spellFactoryLevel.addEventListener("change",e.Events.trigger.bind(null,"calculate","spells"),!1);var n=new t.Template(function(e,t,a){var n=this;return n.b(a=a||""),n.b('    <tr id="'),n.b(n.v(n.f("rowId",e,t,0))),n.b('">'),n.b("\n"+a),n.b("        <td>"),n.b("\n"+a),n.b('            <a href="'),n.b(n.v(n.f("titleLink",e,t,0))),n.b('" class="wikia-link" target="_blank">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a>"),n.b("\n"+a),n.b("        </td>"),n.b("\n"+a),n.b("        <td>"),n.b("\n"+a),n.b('            <select id="'),n.b(n.v(n.f("levelId",e,t,0))),n.b('" tabindex="'),n.b(n.v(n.f("tabIndexLevel",e,t,0))),n.b('">'),n.b("\n"+a),n.s(n.f("levelContent",e,t,1),e,t,0,249,330,"{{ }}")&&(n.rs(e,t,function(e,t,a){a.b('                    <option value="'),a.b(a.v(a.f("value",e,t,0))),a.b('">'),a.b(a.v(a.f("text",e,t,0))),a.b("</option>"),a.b("\n")}),e.pop()),n.b("            </select>"),n.b("\n"+a),n.b("        </td>"),n.b("\n"+a),n.b("        <td>"),n.b("\n"+a),n.s(n.f("spells",e,t,1),e,t,0,420,686,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('                <select id="'),n.b(n.v(n.f("id",e,t,0))),n.b('" tabindex="'),n.b(n.v(n.f("tabIndexValue",e,t,0))),n.b('" data-field-type="quantity">'),n.b("\n"+a),n.s(n.f("options",e,t,1),e,t,0,546,635,"{{ }}")&&(n.rs(e,t,function(e,t,a){a.b('                        <option value="'),a.b(a.v(a.f("value",e,t,0))),a.b('">'),a.b(a.v(a.f("text",e,t,0))),a.b("</option>"),a.b("\n")}),e.pop()),n.b("                </select>"),n.b("\n")}),e.pop()),n.s(n.f("spells",e,t,1),e,t,1,0,0,"")||(n.b('                <input type="text" pattern="[0-9]*" data-object-type="'),n.b(n.v(n.f("objectType",e,t,0))),n.b('" min="0" max="999" class="js-number" id="'),n.b(n.v(n.f("id",e,t,0))),n.b('" size="3" tabindex="'),n.b(n.v(n.f("tabIndexValue",e,t,0))),n.b('" data-field-type="quantity"/>'),n.b("\n")),n.b("        </td>"),n.b("\n"+a),n.b('        <td id="'),n.b(n.v(n.f("summaryId",e,t,0))),n.b('" class="number">'),n.b("\n"+a),n.b("        </td>"),n.b("\n"+a),n.s(n.f("subtractId",e,t,1),e,t,0,1045,1300,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("            <td>"),n.b("\n"+a),n.b('               <input type="text" pattern="[0-9]*" data-object-type="'),n.b(n.v(n.f("objectType",e,t,0))),n.b('" min="0" max="999" class="js-number" id="'),n.b(n.v(n.f("subtractId",e,t,0))),n.b('" size="3" tabindex="'),n.b(n.v(n.f("tabIndexSubtract",e,t,0))),n.b('" data-field-type="subtract"/>'),n.b("\n"+a),n.b("            </td>"),n.b("\n")}),e.pop()),n.s(n.f("barracksTimes",e,t,1),e,t,0,1342,1415,"{{ }}")&&(n.rs(e,t,function(e,t,a){a.b('            <td id="'),a.b(a.v(a.f("barrackQuantityId",e,t,0))),a.b('" class="number"></td>'),a.b("\n")}),e.pop()),n.s(n.f("spells",e,t,1),e,t,0,1453,1484,"{{ }}")&&(n.rs(e,t,function(e,t,a){a.b("            <td></td>"),a.b("\n")}),e.pop()),n.b("    </tr>"),n.fl()}),l=function(t,a){var l=function(e,t){return{value:e,text:t+1}},r=[];if("spells"===t){var s;for(s=0;6>s;s++)r.push({value:s,text:s})}var c=document.getElementById(t+"-body");e.objectIterate(e.calc.types[t],function(s,i){var o=e.convertToTitle(s),u={id:s,title:o,titleLink:"http://clashofclans.wikia.com/wiki/"+(o+("spells"===t?"_Spell":"")).replace(" ","_"),levelId:s+"-level",levelContent:i[1].map(l),summaryId:s+"-summary",rowId:t+"-building-level-"+i[3],tabIndexLevel:a+i[3],tabIndexValue:a+1e3+i[3],objectType:t};if("spells"===t&&(u.spells={options:r}),"units"===t||"dark"===t){var d,v=[];for(d=1;d<=e.calc.allBarracks[t].getMaxCount();d++)v.push({barrackQuantityId:"quantity-"+s+"-"+d});u.barracksTimes=v,u.subtractId=s+"-subtract",u.tabIndexSubtract=a+4e3+i[3]}var b=n.render(u),p=document.createElement("div");p.innerHTML="<table>"+b+"</table>";var f=p.querySelector("tr");c.appendChild(f),document.getElementById(u.levelId).addEventListener("change",e.Events.trigger.bind(null,"calculate",t),!1),document.getElementById(u.id).addEventListener("spells"===t?"change":"input",e.Events.trigger.bind(null,"calculate",t),!1),("units"===t||"dark"===t)&&document.getElementById(u.subtractId).addEventListener("input",e.Events.trigger.bind(null,"calculate",t),!1)})};l("units",100),l("dark",200),l("spells",300),a(),e.Events.trigger("calculate","all")}(window.mk,window.Hogan),function(e){"use strict";var t=function(t,a){var n=parseInt(t.value,10);t.value="+"===a?isNaN(n)?1:n+1:isNaN(n)||2>n?0:n-1,e.Events.trigger("calculate",t.getAttribute("data-object-type"))},a=null,n=null,l=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.spinnerClicked=!0,n=setTimeout(function(e){e.spinnerClicked=!1,function n(){a=setTimeout(function(){t(e.spinnerTarget,e.textContent),n()},100)}()}.bind(null,e.currentTarget),500)},r=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.spinnerClicked&&t(e.currentTarget.spinnerTarget,e.currentTarget.textContent),clearTimeout(n),clearInterval(a)},s=function(t,a){var n=document.createElement("span");n.className="button button_after button_middle",n.textContent="plus"===t?"+":"−",n.spinnerTarget=a,e.addEvents(n,["touchstart","mousedown"],l),e.addEvents(n,["touchend","mouseup"],r),a.nextSibling?a.parentNode.insertBefore(n,a.nextSibling):a.parentNode.appendChild(n)},c=function(e){var a=e.keyCode||e.which;38===a?(t(e.currentTarget,"+"),e.preventDefault()):40===a&&(t(e.currentTarget,"-"),e.preventDefault())};e.getAllByClass("js-number").forEach(function(t){t.addEventListener("focus",e.selectAll,!1),s("minus",t),s("plus",t),t.addEventListener("keydown",c,!1)})}(window.mk),function(e){"use strict";var t=function(t){t.preventDefault(),t.stopPropagation();var a=t.currentTarget.getAttribute("data-reset-type"),n=t.currentTarget.getAttribute("data-scope");e.getAll('input[data-field-type="'+n+'"][data-object-type="'+a+'"]').forEach(function(e){e.value="0"}),e.Events.trigger("calculate",a)};e.getAllByClass("js-reset").forEach(function(a){e.addEvents(a,["click","touchend"],t)})}(window.mk);</script><script>!function(){"use strict";window.top!==window.self&&window.top.location.replace(window.self.location.href);var e=["m","k","l","n",".","r","u"].join("");location.host!==e&&0!==location.host.indexOf("192.168.1.")&&0!==location.host.indexOf("localhost")&&location.replace("http://"+e+"/clash-of-clans/")}();</script>

<script>!function(e,t,a){(t[a]=t[a]||[]).push(function(){try{t.yaCounter19642528=new Ya.Metrika({id:19642528,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0}),mk.__globalSharedLink&&t.yaCounter19642528.reachGoal("SHARE",{l:mk.__globalSharedLink})}catch(e){}});var n=e.getElementsByTagName("script")[0],r=e.createElement("script"),l=function(){n.parentNode.insertBefore(r,n)};r.type="text/javascript",r.async=!0,r.src=("https:"==e.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==t.opera?e.addEventListener("DOMContentLoaded",l,!1):l()}(document,window,"yandex_metrika_callbacks");</script>
<noscript><div><img src="//mc.yandex.ru/watch/19642528" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<script>var _gaq=[["_setAccount","UA-37991363-1"],["_trackPageview"]];!function(e,t){var a=e.createElement(t),n=e.getElementsByTagName(t)[0];a.async=!0,a.src="//www.google-analytics.com/ga.js",n.parentNode.insertBefore(a,n)}(document,"script");</script>

<div class="list-content list-content_small fixed-content" id="changelog-anchor">
    <h3>What's New in Version 2.16 <a href="version-history.html" class="button button_after" target="_blank">Version History</a></h3>
    <ul>
        <li>Added menu for easier navigation.</li>
    </ul>
</div>

<div class="footer fixed-content">
    <p>
        If you find a bug please send an e-mail to <a href="mailto:clash-of-clans@mkln.ru">clash-of-clans@mkln.ru</a>.
    </p>
    <p>
        Please note this tool is only available at http://mkln.ru/clash-of-clans/.
        If you've seen it on other sites or in the iTunes App Store or anywhere else —
        is the result of the actions of fraudsters and thieves that have nothing to do with me
        and use my work without my permission, violating copyright.
    </p>
    <p>
        This work is licensed under a
        <a target="_blank" rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">
            Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a>.
    </p>

    <p>
        Save Icon designed by <a href="http://www.endlessicons.com/" target="_blank">Min Kim</a>
    </p>
    <p>
        &copy; 2013 <a href="/en/">Mikhail Kalashnik</a>
    </p>
</div>


</body>
</html>
