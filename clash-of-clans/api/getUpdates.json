{"clash_of_clans":{"code":{"html":"<!DOCTYPE HTML> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"/> <style>html,body{background:#fefefe;color:#222}body{font-family:'PT Sans',Arial,sans-serif;font-size:18px;line-height:1.5;margin:20px 40px}a{white-space:nowrap}a:link{color:#4100f1}a:link,a:visited{text-decoration:none}a:visited{color:#63008c}a:hover,a:active{text-decoration:underline}h1{font-size:28px;margin:0 0 12px}h2{font-size:22px;margin:18px 0 4px}p{margin:0 0 12px}.content{min-width:260px;max-width:520px}.photo{margin:8px 0 20px 20px;float:right;border-radius:10px}@media all and (max-width:560px){.photo{float:none;display:block;margin:0 auto 20px}}a.title{color:#222;text-decoration:none}.footer{margin-top:30px;font-size:14px;color:#ccc}.footer a:link,.footer a:visited{text-decoration:underline;color:#ccc}.footer a:hover,.footer a:active{text-decoration:none}.hidden{display:none}</style> <style>body{margin:15px 30px;line-height:1.4}kbd{font-family:inherit;background:#f0f0f0;border:1px solid #ddd;border-radius:5px;padding:0 4px}input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none}.wikia-link:link,.wikia-link:visited{color:inherit;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA/1BMVEX///8AAABAQEANDQ1TU1M/Pz8MDAxHR0cAAABAQEBhYWFOTk4AAABMTEwYGBhhYWFHR0dWVlYAAABLS0sYGBhOTk5VVVVUVFQ+Pj4AAAAAAABpaWloaGhmZmZiYmJnZ2f+/v6jo6Pc3Nxvb29eXl5cXFxkZGRlZWW6urptbW2pqam1tbXW1tb4+Pi2trZqamp8fHxfX1+0tLTg4OC4uLizs7P9/f1ubm5/f39wcHBbW1vd3d1ra2uoqKj5+fl+fn7Pz8+RkZGtra3t7e13d3eCgoKwsLB7e3uSkpKvr6/Y2NjZ2dl1dXXb29uqqqqkpKTi4uLk5ORjY2N4eHiLi4spHuS/AAAAG3RSTlMADasU0KsVsROo+cQPvUD3s9kMvD/B1dKoCw76qK6PAAAA6klEQVR4Xk3L1XaDQABFUQIkdfeO4m5x91Rd/v9bOkMHynnc615JpKjQESFUQQABj/xj48q4c9ss94E4Be7vjZc0z4UlSoeXwI84toEj1f463d6yN6sCZbnO2znY7T/RAjGGPW/gEXQfMllFOQ4zrdXSF3g2Yva88bsu5BjT6WSc6szCvp0sHxOOAdW+vvlXT4+OTxIDQo5dH63nlI5m6Ew5v1BVlWGHRk0ymIcpRtc30m1DUXKk0yZ5WcOFV69JvBy52njyalSR69t79FFZxlT02SvQMn/iDisIYg2UaJmZyMRyidZQZBX4C/BhL9uWDiH6AAAAAElFTkSuQmCC) no-repeat 100% 4px;background-size:10px 10px;padding-right:15px}.field{font-family:inherit;font-size:inherit}.units{border-spacing:0;margin-bottom:24px;border-left:1px solid #ddd;border-top:1px solid #ddd;margin-left:-11px;border-radius:10px;font-size:16px}.units_common{margin-bottom:12px}.units th{text-align:left;padding:1px 9px 2px;white-space:nowrap;border-bottom:1px solid #ddd;border-right:1px solid #ddd}.units thead tr:first-child th:first-child,.units_common tr:first-child td:first-child{border-top-left-radius:10px}.units thead tr:first-child th:last-child,.units_common tr:first-child td:last-child{border-top-right-radius:10px}.units td{padding:2px 9px 3px;white-space:nowrap;border-bottom:1px solid #ddd;border-right:1px solid #ddd}.units td>input{text-align:right}.units tfoot td:first-child,.units_common tr:last-child td:first-child{border-bottom-left-radius:10px}.units tfoot td:last-child,.units_common tr:last-child td:last-child{border-bottom-right-radius:10px}.units-quantity,.minor{font-size:14px}.minor{max-width:700px}.minor ul{padding:0;margin:0 0 15px;list-style:none}.minor li{padding-left:18px;position:relative}.minor li:before{content:'â€”';position:absolute;left:0}.minor p{margin:0 0 1px}.minor h3{font-size:14px;margin:0 0 2px}.minor__date{color:#777}.cost-elixir{background-position:100% 50%;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background-size:14px 16px;padding-right:19px}.cost-dark-elixir{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAD80lEQVR42q2XS0hUYRiGc0bHGW9z8T7jjI6O10wFNTGpwETaSTFkgkLSKpLCIBiCGggKgmBaRq4El1KbNl02Ii0qioIWLVpUuFBaFBKUk56v9z34i/xzRg6OBx7O/Xv/9/u+/58zh0TkQMDmBH4QBT3gFDgM8nc/l6tICRgGSfAYvAar4C8wwBo4nbMgtiC4DF6Bn0CysAVm9iuoHF0CH4HYYMvhcFzblyC2o+AJSAMBhh1RCN63JYgtb3tfDK6CFRsCupgUFRU9Y2ZsOcQWAnNgU3NlC6fTKT6f73tpaWmbHYcR8BRIDhhwuFleXj6mC+ppPAbeAskVCIrX673H2JYOXS5XV15e3qdchRRut1sqKyuf19XVeTIEKyoqavPz819q9cqZ6urqFVXH3el0ocgP4Y4nB0pZWdkGmueCLngObNhpdQWyYXaix+ORQCAgxcXFYjXgwsJCiUQi8zh27G7/D1YCDFBSUsI6cKRsAp6TnesDAwMyOTkp4+Pj0tDQkBEDfSE1NTVvuLgrwRtZHLHDpLOzU/r6+qS5uVlQZ4Up1tvbK4lEQpaWlmR5eVmmp6eloKAgYz5WVVV9CwaDEYoFwPts7jCHpKenx3TR3t4ueMmktrZWwuGwDA8PSyqVkrW1NVlfX5dkMslMZMSJRqO/hoaG+ig4mq12HBm6S+rr6yUWi7EOEgqFuKeYeX1wcFBmZ2dlcXHRZGJiglNBj0XBf8jUGQpez+KOLzKldMmUKFd8mVDQdD0yMiJTU1MSj8elra2NDZURj7VtbW29SMHbVoLsQDaF3++nGJ0pdxQzHTc1NUljY6O0tLRQmANgRqw61dh+foaCd9VFrZVZC7a7EqQ7jpQiFCQU5yDoXk0NOtSzZSCdbLorFLyjCfKF3YLsRuWOLpQoxXisBJkNloECeraM/v5+ZsJ0eMuqfmxtjpZBKMjOpEOsiUqY8Jj3OE1Yb3PO6fEYB4JpPDdGwbMgraeULjlaLEmqYZSYgue8zrVSpZOdrQtyYJyvXFgqKegFy8BqhVBpZVCuFkwtHRGe0z3vs1mYFculsKury+ju7k7srKUYVRw3/2RJLbuVQdX0oAiPCVPO+0pMh89T8AUXGCVIl24wb9Gtqujqh5QC3NM54cLN+5aLNt/p6Oj4gdSfpI7+axHTFnBdlDVlEKIJWa5S7GQDC0FSaRCrT8F32UQZnDVhMH2u6WJwxXm64MOmC+qiR8BLIPv45TdQSzbWb6wqc8hEUI+f7YutHCTAqlVQDeWeaWaTfMF8Pc8/N1pcW9+lJ8AC+Aq29qhvGnPwMyb/I7jq3Sum3c/8MBgFN0EKPCBIXwpCCTTTcexr7MT6D9eNFIrhqHsGAAAAAElFTkSuQmCC);background-size:14px 16px}.cost-dark-elixir,.cost-gold{background-position:100% 50%;background-repeat:no-repeat;padding-right:19px}.cost-gold{background-image:url(data:image/png;base64,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);background-size:15px 16px}.like-button{color:#444;cursor:pointer;display:inline-block;padding:2px 6px;border:1px solid #aaa;border-radius:5px;background-color:#fcfcfc;background-image:-webkit-linear-gradient(#fcfcfc,#ececec);background-image:-o-linear-gradient(#fcfcfc,#ececec);background-image:linear-gradient(#fcfcfc,#ececec);line-height:1em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.like-button:hover{background-image:-webkit-linear-gradient(#fcfcfc,#e0e0e0);background-image:-o-linear-gradient(#fcfcfc,#e0e0e0);background-image:linear-gradient(#fcfcfc,#e0e0e0)}.like-button:active{background:#e3e3e3}.like-button_after{margin-left:5px}.like-button_lonely{margin-left:-7px;margin-right:15px}.number{text-align:right}.limit-exceeded{color:#d00}.intro{font-size:16px;max-width:800px}.result{font-weight:700}.saved-list{font-size:14px}.saved-list__item{display:inline-block;margin:0 30px 17px -13px;border:1px solid #ddd;border-radius:10px;padding:10px 13px;vertical-align:top;color:#444;line-height:1.35}.saved-list__item-title{font-weight:700;color:#222;margin-bottom:3px}.saved-list__item-title_next{margin-top:8px}.saved-list__item-title span{float:right}.saved-list__item-result{margin-top:3px}.saved-list__actions{margin-top:8px}.saved-list__table{border-spacing:0}.saved-list__table td{padding-right:8px;padding-top:0;padding-bottom:0}.saved-list__table .saved-list__level{padding-top:6px;line-height:8px}</style> </head> <body> <style> .app-version-updated { display: none; } #app_version.updated + .app-version-updated { position: absolute; top: 30px; left: -12px; border: 2px solid #900; border-radius: 10px; padding: 10px; display: block; background: #ffeeee; font-weight: bold; } </style> <p style=\"position: relative;\">Last Update: <span id=\"app_version\" class=\"updated\"></span> <span id=\"app-updated\" class=\"app-version-updated\">Version updated!</span></p> <script> document.getElementById('app-updated').ontouchend = function(e) { e.preventDefault(); e.stopPropagation(); document.getElementById('app_version').className = ''; }; </script> <table class=\"units units_common\"> <tr> <td> <label for=\"barracks-levels-1\"><a href=\"http://clashofclans.wikia.com/wiki/Barracks\" class=\"wikia-link js-link\" target=\"_blank\">Barracks</a> Levels</label> </td> <td> <select id=\"barracks-levels-1\" class=\"field\" tabindex=\"1\"> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\">4</option> <option value=\"5\">5</option> <option value=\"6\">6</option> <option value=\"7\">7</option> <option value=\"8\">8</option> <option value=\"9\">9</option> <option value=\"10\" selected=\"selected\">10</option> </select> <select id=\"barracks-levels-2\" class=\"field\" tabindex=\"5\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\">4</option> <option value=\"5\">5</option> <option value=\"6\">6</option> <option value=\"7\">7</option> <option value=\"8\">8</option> <option value=\"9\">9</option> <option value=\"10\" selected=\"selected\">10</option> </select> <select id=\"barracks-levels-3\" class=\"field\" tabindex=\"10\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\">4</option> <option value=\"5\">5</option> <option value=\"6\">6</option> <option value=\"7\">7</option> <option value=\"8\">8</option> <option value=\"9\">9</option> <option value=\"10\" selected=\"selected\">10</option> </select> <select id=\"barracks-levels-4\" class=\"field\" tabindex=\"15\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\">4</option> <option value=\"5\">5</option> <option value=\"6\">6</option> <option value=\"7\">7</option> <option value=\"8\">8</option> <option value=\"9\">9</option> <option value=\"10\" selected=\"selected\">10</option> </select> </td> </tr> <tr> <td> <label for=\"dark-barracks-levels-1\"><a href=\"http://clashofclans.wikia.com/wiki/Dark_Barracks\" class=\"wikia-link js-link\" target=\"_blank\">Dark Barracks</a> Levels</label> </td> <td> <select id=\"dark-barracks-levels-1\" class=\"field\" tabindex=\"20\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\" selected=\"selected\">4</option> </select> <select id=\"dark-barracks-levels-2\" class=\"field\" tabindex=\"25\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\" selected=\"selected\">4</option> </select> </td> </tr> <tr> <td> <label for=\"army-camps\"><a href=\"http://clashofclans.wikia.com/wiki/Army_Camp\" class=\"wikia-link js-link\" target=\"_blank\">Army Camps</a> Capacity</label> </td> <td> <input type=\"number\" step=\"5\" min=\"20\" max=\"220\" class=\"js-number field\" data-multiplier=\"5\" value=\"220\" id=\"army-camps\" size=\"3\" tabindex=\"30\"/> </td> </tr> <tr> <td> <label for=\"spell-factory-level\"><a href=\"http://clashofclans.wikia.com/wiki/Spell_Factory\" class=\"wikia-link js-link\" target=\"_blank\">Spell Factory</a> Level</label> </td> <td> <select id=\"spell-factory-level\" class=\"field\" tabindex=\"35\"> <option value=\"0\">0</option> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> <option value=\"4\" selected=\"selected\">4</option> </select> </td> </tr> </table> <table id=\"units\" class=\"units\"> <thead> <tr> <th>Unit</th> <th>Level</th> <th>Quantity <span class=\"units-quantity\" title=\"Free Capacity\" id=\"units-quantity\"></span></th> <th><span class=\"cost-elixir\">Total</span></th> <th>Subtract</th> <th colspan=\"4\">Barracks <span class=\"limit-exceeded units-quantity\" style=\"display: none;\" id=\"units-barracks-exceeded\">(too many units)</span></th> </tr> <tr> <td colspan=\"2\"></td> <td><span class=\"like-button js-reset\" data-type=\"units\" data-scope=\"quantity\">Reset</span></td> <td></td> <td><span class=\"like-button js-reset\" data-type=\"units\" data-scope=\"subtract\">Reset</span></td> <td id=\"units-barrack-header-1\"></td> <td id=\"units-barrack-header-2\"></td> <td id=\"units-barrack-header-3\"></td> <td id=\"units-barrack-header-4\"></td> </tr> </thead> <tbody id=\"units-body\"> </tbody> <tfoot> <tr> <td colspan=\"2\"></td> <td id=\"units-space\" class=\"result\"></td> <td id=\"units-cost\" class=\"number result\"></td> <td></td> <td id=\"units-time-barrack-1\" class=\"number\"></td> <td id=\"units-time-barrack-2\" class=\"number\"></td> <td id=\"units-time-barrack-3\" class=\"number\"></td> <td id=\"units-time-barrack-4\" class=\"number\"></td> </tr> </tfoot> </table> <table id=\"dark\" class=\"units\"> <thead> <tr> <th>Unit</th> <th>Level</th> <th>Quantity <span class=\"units-quantity\" title=\"Free Capacity\" id=\"dark-quantity\"></span></th> <th><span class=\"cost-dark-elixir\">Total</span></th> <th>Subtract</th> <th colspan=\"2\">Dark Barracks <span class=\"limit-exceeded units-quantity\" style=\"display: none;\" id=\"dark-barracks-exceeded\">(too many units)</span></th> </tr> <tr> <td colspan=\"2\"></td> <td><span class=\"like-button js-reset\" data-type=\"dark\" data-scope=\"quantity\">Reset</span></td> <td></td> <td><span class=\"like-button js-reset\" data-type=\"dark\" data-scope=\"subtract\">Reset</span></td> <td id=\"dark-barrack-header-1\"></td> <td id=\"dark-barrack-header-2\"></td> </tr> </thead> <tbody id=\"dark-body\"> </tbody> <tfoot> <tr> <td colspan=\"2\"></td> <td id=\"dark-space\" class=\"result\"></td> <td id=\"dark-cost\" class=\"number result\"></td> <td></td> <td id=\"dark-time-barrack-1\" class=\"number\"></td> <td id=\"dark-time-barrack-2\" class=\"number\"></td> </tr> </tfoot> </table> <table id=\"spells\" class=\"units\"> <thead> <tr> <th>Spell</th> <th>Level</th> <th>Quantity <span class=\"units-quantity\" title=\"Free Capacity\" id=\"spells-quantity\"></span></th> <th><span class=\"cost-gold\">Total</span></th> </tr> </thead> <tbody id=\"spells-body\"> </tbody> <tfoot> <tr> <td colspan=\"2\"></td> <td class=\"result\"> <span id=\"spells-space\"></span> â€” <span id=\"spells-time\"></span> </td> <td id=\"spells-cost\" class=\"number result\"></td> </tr> </tfoot> </table> <p> <span id=\"save\" class=\"like-button like-button_lonely\" tabindex=\"2000\">Save Calculation</span> </p> <div id=\"saved-list\" class=\"saved-list\"> <div id=\"saved-list-content\" class=\"saved-list__content\"> </div> </div> <script>/** * @preserve Copyright 2012 Twitter, Inc. * @license http://www.apache.org/licenses/LICENSE-2.0.txt */ var Hogan={};(function(a,b){function i(a){return String(a===null||a===undefined?\"\":a)}function j(a){return a=i(a),h.test(a)?a.replace(c,\"&amp;\").replace(d,\"&lt;\").replace(e,\"&gt;\").replace(f,\"&#39;\").replace(g,\"&quot;\"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||\"\",this.buf=b?[]:\"\"},a.Template.prototype={r:function(a,b,c){return\"\"},v:j,t:i,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&typeof e==\"string\"&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):\"\"},rs:function(a,b,c){var d=a[a.length-1];if(!k(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&a.length===0?!1:(typeof a==\"function\"&&(a=this.ls(a,b,c,d,e,f,g)),h=a===\"\"||!!a,!d&&h&&b&&b.push(typeof a==\"object\"?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split(\".\"),f=this.f(e[0],b,c,d),g=null;if(a===\".\"&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&typeof f==\"object\"&&e[h]in f?(g=f,f=f[e[h]]):f=\"\";return d&&!f?!1:(!d&&typeof f==\"function\"&&(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var h=b.length-1;h>=0;h--){f=b[h];if(f&&typeof f==\"object\"&&a in f){e=f[a],g=!0;break}}return g?(!d&&typeof e==\"function\"&&(e=this.lv(e,b,c)),e):d?!1:\"\"},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=d==null?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join(\"\");return this.buf=[],a}:function(){var a=this.buf;return this.buf=\"\",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);i=a.call(h);if(typeof i==\"function\"){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,c){var d=b[b.length-1],e=a.call(d);if(typeof e==\"function\"){e=i(e.call(d));if(this.c&&~e.indexOf(\"{{\"))return this.c.compile(e,this.options).render(d,c)}return i(e)}};var c=/&/g,d=/</g,e=/>/g,f=/\\'/g,g=/\\\"/g,h=/[&<>\\\"\\']/,k=Array.isArray||function(a){return Object.prototype.toString.call(a)===\"[object Array]\"}})(typeof exports!=\"undefined\"?exports:Hogan),function(a){function h(a){a.n.substr(a.n.length-1)===\"}\"&&(a.n=a.n.substring(0,a.n.length-1))}function i(a){return a.trim?a.trim():a.replace(/^\\s*|\\s*$/g,\"\")}function j(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function k(a,b,c,d){var e=[],f=null,g=null;while(a.length>0){g=a.shift();if(g.tag==\"#\"||g.tag==\"^\"||l(g,d))c.push(g),g.nodes=k(a,g.tag,c,d),e.push(g);else{if(g.tag==\"/\"){if(c.length===0)throw new Error(\"Closing tag without opener: /\"+g.n);f=c.pop();if(g.n!=f.n&&!m(g.n,f.n,d))throw new Error(\"Nesting error: \"+f.n+\" vs. \"+g.n);return f.end=g.i,e}e.push(g)}}if(c.length>0)throw new Error(\"missing closing tag: \"+c.pop().n);return e}function l(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag=\"#\",!0}function m(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function n(a){return a.replace(f,\"\\\\\\\\\").replace(c,'\\\\\"').replace(d,\"\\\\n\").replace(e,\"\\\\r\")}function o(a){return~a.indexOf(\".\")?\"d\":\"f\"}function p(a){var b=\"\";for(var c=0,d=a.length;c<d;c++){var e=a[c].tag;e==\"#\"?b+=q(a[c].nodes,a[c].n,o(a[c].n),a[c].i,a[c].end,a[c].otag+\" \"+a[c].ctag):e==\"^\"?b+=r(a[c].nodes,a[c].n,o(a[c].n)):e==\"<\"||e==\">\"?b+=s(a[c]):e==\"{\"||e==\"&\"?b+=t(a[c].n,o(a[c].n)):e==\"\\n\"?b+=v('\"\\\\n\"'+(a.length-1==c?\"\":\" + i\")):e==\"_v\"?b+=u(a[c].n,o(a[c].n)):e===undefined&&(b+=v('\"'+n(a[c])+'\"'))}return b}function q(a,b,c,d,e,f){return\"if(_.s(_.\"+c+'(\"'+n(b)+'\",c,p,1),'+\"c,p,0,\"+d+\",\"+e+',\"'+f+'\")){'+\"_.rs(c,p,\"+\"function(c,p,_){\"+p(a)+\"});c.pop();}\"}function r(a,b,c){return\"if(!_.s(_.\"+c+'(\"'+n(b)+'\",c,p,1),c,p,1,0,0,\"\")){'+p(a)+\"};\"}function s(a){return'_.b(_.rp(\"'+n(a.n)+'\",c,p,\"'+(a.indent||\"\")+'\"));'}function t(a,b){return\"_.b(_.t(_.\"+b+'(\"'+n(a)+'\",c,p,0)));'}function u(a,b){return\"_.b(_.v(_.\"+b+'(\"'+n(a)+'\",c,p,0)));'}function v(a){return\"_.b(\"+a+\");\"}var b=/\\S/,c=/\\\"/g,d=/\\n/g,e=/\\r/g,f=/\\\\/g,g={\"#\":1,\"^\":2,\"/\":3,\"!\":4,\">\":5,\"<\":6,\"=\":7,_v:8,\"{\":9,\"&\":10};a.scan=function(c,d){function w(){p.length>0&&(q.push(new String(p)),p=\"\")}function x(){var a=!0;for(var c=t;c<q.length;c++){a=q[c].tag&&g[q[c].tag]<g._v||!q[c].tag&&q[c].match(b)===null;if(!a)return!1}return a}function y(a,b){w();if(a&&x())for(var c=t,d;c<q.length;c++)q[c].tag||((d=q[c+1])&&d.tag==\">\"&&(d.indent=q[c].toString()),q.splice(c,1));else b||q.push({tag:\"\\n\"});r=!1,t=q.length}function z(a,b){var c=\"=\"+v,d=a.indexOf(c,b),e=i(a.substring(a.indexOf(\"=\",b)+1,d)).split(\" \");return u=e[0],v=e[1],d+c.length-1}var e=c.length,f=0,k=1,l=2,m=f,n=null,o=null,p=\"\",q=[],r=!1,s=0,t=0,u=\"{{\",v=\"}}\";d&&(d=d.split(\" \"),u=d[0],v=d[1]);for(s=0;s<e;s++)m==f?j(u,c,s)?(--s,w(),m=k):c.charAt(s)==\"\\n\"?y(r):p+=c.charAt(s):m==k?(s+=u.length-1,o=g[c.charAt(s+1)],n=o?c.charAt(s+1):\"_v\",n==\"=\"?(s=z(c,s),m=f):(o&&s++,m=l),r=s):j(v,c,s)?(q.push({tag:n,n:i(p),otag:u,ctag:v,i:n==\"/\"?r-v.length:s+u.length}),p=\"\",s+=v.length-1,m=f,n==\"{\"&&(v==\"}}\"?s++:h(q[q.length-1]))):p+=c.charAt(s);return y(r,!0),q},a.generate=function(b,c,d){var e='var _=this;_.b(i=i||\"\");'+p(b)+\"return _.fl();\";return d.asString?\"function(c,p,i){\"+e+\";}\":new a.Template(new Function(\"c\",\"p\",\"i\",e),c,a,d)},a.parse=function(a,b,c){return c=c||{},k(a,\"\",[],c.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+\"||\"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(this.parse(this.scan(a,b.delimiters),a,b),a,b),this.cache[c]=d)}}(typeof exports!=\"undefined\"?exports:Hogan)</script> <script>var templates={};templates.item_row=new Hogan.Template(function(e,t,a){var n=this;return n.b(a=a||\"\"),n.b('    <tr id=\"'),n.b(n.v(n.f(\"rowId\",e,t,0))),n.b('\">'),n.b(\"\\n\"+a),n.b(\"        <td>\"),n.b(\"\\n\"+a),n.b('            <a href=\"'),n.b(n.v(n.f(\"titleLink\",e,t,0))),n.b('\" class=\"wikia-link js-link\" target=\"_blank\">'),n.b(n.v(n.f(\"title\",e,t,0))),n.b(\"</a>\"),n.b(\"\\n\"+a),n.b(\"        </td>\"),n.b(\"\\n\"+a),n.b(\"        <td>\"),n.b(\"\\n\"+a),n.b('            <select id=\"'),n.b(n.v(n.f(\"levelId\",e,t,0))),n.b('\" class=\"field\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexLevel\",e,t,0))),n.b('\">'),n.b(\"\\n\"+a),n.s(n.f(\"levelContent\",e,t,1),e,t,0,271,352,\"{{ }}\")&&(n.rs(e,t,function(e,t,a){a.b('                    <option value=\"'),a.b(a.v(a.f(\"value\",e,t,0))),a.b('\">'),a.b(a.v(a.f(\"text\",e,t,0))),a.b(\"</option>\"),a.b(\"\\n\")}),e.pop()),n.b(\"            </select>\"),n.b(\"\\n\"+a),n.b('            <span class=\"hidden\" id=\"'),n.b(n.v(n.f(\"costId\",e,t,0))),n.b('\"></span>'),n.b(\"\\n\"+a),n.b(\"        </td>\"),n.b(\"\\n\"+a),n.b(\"        <td>\"),n.b(\"\\n\"+a),n.s(n.f(\"spells\",e,t,1),e,t,0,499,752,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b('                <select id=\"'),n.b(n.v(n.f(\"id\",e,t,0))),n.b('\" class=\"field\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexValue\",e,t,0))),n.b('\">'),n.b(\"\\n\"+a),n.s(n.f(\"options\",e,t,1),e,t,0,612,701,\"{{ }}\")&&(n.rs(e,t,function(e,t,a){a.b('                        <option value=\"'),a.b(a.v(a.f(\"value\",e,t,0))),a.b('\">'),a.b(a.v(a.f(\"text\",e,t,0))),a.b(\"</option>\"),a.b(\"\\n\")}),e.pop()),n.b(\"                </select>\"),n.b(\"\\n\")}),e.pop()),n.s(n.f(\"spells\",e,t,1),e,t,1,0,0,\"\")||(n.b('                <input type=\"number\" min=\"0\" max=\"220\" class=\"js-number field\" id=\"'),n.b(n.v(n.f(\"id\",e,t,0))),n.b('\" size=\"3\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexValue\",e,t,0))),n.b('\"/>'),n.b(\"\\n\")),n.b(\"        </td>\"),n.b(\"\\n\"+a),n.b('        <td id=\"'),n.b(n.v(n.f(\"summaryId\",e,t,0))),n.b('\" class=\"number\">'),n.b(\"\\n\"+a),n.b(\"        </td>\"),n.b(\"\\n\"+a),n.s(n.f(\"subtractId\",e,t,1),e,t,0,1041,1226,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b(\"            <td>\"),n.b(\"\\n\"+a),n.b('               <input type=\"number\" min=\"0\" max=\"220\" class=\"js-number field\" id=\"'),n.b(n.v(n.f(\"subtractId\",e,t,0))),n.b('\" size=\"3\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexSubtract\",e,t,0))),n.b('\"/>'),n.b(\"\\n\"+a),n.b(\"            </td>\"),n.b(\"\\n\")}),e.pop()),n.s(n.f(\"barracksTimes\",e,t,1),e,t,0,1268,1341,\"{{ }}\")&&(n.rs(e,t,function(e,t,a){a.b('            <td id=\"'),a.b(a.v(a.f(\"barrackQuantityId\",e,t,0))),a.b('\" class=\"number\"></td>'),a.b(\"\\n\")}),e.pop()),n.b(\"    </tr>\"),n.fl()}),templates.saved_list_item=new Hogan.Template(function(e,t,a){var n=this;return n.b(a=a||\"\"),n.b('<div class=\"saved-list__item\" id=\"saved-list-item-'),n.b(n.v(n.f(\"index\",e,t,0))),n.b('\">'),n.b(\"\\n\"+a),n.s(n.f(\"hasUnits\",e,t,1),e,t,0,79,494,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b('        <div class=\"saved-list__item-title\"><span class=\"cost-elixir\">'),n.b(n.v(n.f(\"totalCost\",e,t,0))),n.b(\"</span>Units</div>\"),n.b(\"\\n\"+a),n.b('        <table class=\"saved-list__table\">'),n.b(\"\\n\"+a),n.s(n.f(\"units\",e,t,1),e,t,0,246,462,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b(\"                <tr>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"number\">'),n.b(n.v(n.f(\"quantity\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                    <td>\"),n.b(n.v(n.f(\"name\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"saved-list__level\">'),n.b(n.v(n.f(\"level\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                </tr>\"),n.b(\"\\n\")}),e.pop()),n.b(\"        </table>\"),n.b(\"\\n\")}),e.pop()),n.b(\"\\n\"+a),n.s(n.f(\"hasDark\",e,t,1),e,t,0,525,971,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b('        <div class=\"saved-list__item-title saved-list__item-title_next\"><span class=\"cost-dark-elixir\">'),n.b(n.v(n.f(\"darkCost\",e,t,0))),n.b(\"</span>&nbsp;</div>\"),n.b(\"\\n\"+a),n.b('        <table class=\"saved-list__table\">'),n.b(\"\\n\"+a),n.s(n.f(\"dark\",e,t,1),e,t,0,724,940,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b(\"                <tr>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"number\">'),n.b(n.v(n.f(\"quantity\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                    <td>\"),n.b(n.v(n.f(\"name\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"saved-list__level\">'),n.b(n.v(n.f(\"level\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                </tr>\"),n.b(\"\\n\")}),e.pop()),n.b(\"        </table>\"),n.b(\"\\n\")}),e.pop()),n.b(\"\\n\"+a),n.s(n.f(\"hasCapacity\",e,t,1),e,t,0,1005,1115,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b('        <div class=\"saved-list__item-result\">'),n.b(\"\\n\"+a),n.b(\"            \"),n.b(n.v(n.f(\"totalCapacity\",e,t,0))),n.b(\"/\"),n.b(n.v(n.f(\"armyCamps\",e,t,0))),n.b(\"\\n\"+a),n.b(\"        </div>\"),n.b(\"\\n\")}),e.pop()),n.b(\"\\n\"+a),n.s(n.f(\"hasSpells\",e,t,1),e,t,0,1151,1711,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b('        <div class=\"saved-list__item-title saved-list__item-title_next\"><span class=\"cost-gold\">'),n.b(n.v(n.f(\"spellsCost\",e,t,0))),n.b(\"</span>Spells</div>\"),n.b(\"\\n\"+a),n.b('        <table class=\"saved-list__table\">'),n.b(\"\\n\"+a),n.s(n.f(\"spells\",e,t,1),e,t,0,1347,1563,\"{{ }}\")&&(n.rs(e,t,function(e,t,n){n.b(\"                <tr>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"number\">'),n.b(n.v(n.f(\"quantity\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                    <td>\"),n.b(n.v(n.f(\"name\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b('                    <td class=\"saved-list__level\">'),n.b(n.v(n.f(\"level\",e,t,0))),n.b(\"</td>\"),n.b(\"\\n\"+a),n.b(\"                </tr>\"),n.b(\"\\n\")}),e.pop()),n.b(\"        </table>\"),n.b(\"\\n\"+a),n.b('        <div class=\"saved-list__item-result\">'),n.b(\"\\n\"+a),n.b(\"            \"),n.b(n.v(n.f(\"spellsCapacity\",e,t,0))),n.b(\"/\"),n.b(n.v(n.f(\"spellsFactoryLevel\",e,t,0))),n.b(\"\\n\"+a),n.b(\"        </div>\"),n.b(\"\\n\")}),e.pop()),n.b(\"\\n\"+a),n.b('    <div class=\"saved-list__actions\">'),n.b(\"\\n\"+a),n.b('        <span class=\"like-button like-button_lonely js-saved-load\" data-num=\"'),n.b(n.v(n.f(\"index\",e,t,0))),n.b('\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexLoad\",e,t,0))),n.b('\" title=\"Current calculation will be lost\">Load</span>'),n.b(\"\\n\"+a),n.b('        <span class=\"like-button like-button_lonely js-saved-delete\" data-num=\"'),n.b(n.v(n.f(\"index\",e,t,0))),n.b('\" tabindex=\"'),n.b(n.v(n.f(\"tabIndexDelete\",e,t,0))),n.b('\">Delete</span>'),n.b(\"\\n\"+a),n.b(\"    </div>\"),n.b(\"\\n\"+a),n.b(\"</div>\"),n.fl()});</script> <script>(function(e,t){\"use strict\";Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,a=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,a.concat(Array.prototype.slice.call(arguments)))}});var a=function(e,t){var a;for(a in e)if(e.hasOwnProperty(a)&&t(a,e[a])===!1)break},n=function(e){var t=e.constructor();return a(e,function(e,a){t[e]=a}),t},r=function(e){return(\"\"+e).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\"$1,\")},i=function(e){return e.replace(\"_\",\" \").replace(/-/g,\".\")},s=function(e,t){return\"http://clashofclans.wikia.com/wiki/\"+e.replace(\" \",\"_\")+(t?\"_Spell\":\"\")},l=function(e,t){var a=\"\",n=e;if(n>3599&&(a+=Math.floor(n/3600)+\"h \",n%=3600),n>59){var r=Math.floor(n/60);n%=60,t&&n>0&&r++,a+=r+\"m \"}else a+=\"0m \";return\"\"!==a&&t||(a+=n+\"s\"),a},u=function(t,a){this.key=t,this.defaultData=a,this.load=function(){var t=e.localStorage.getItem(this.key);return t&&JSON.parse(t)||this.defaultData},this.save=function(t){e.localStorage.setItem(this.key,JSON.stringify(t))}},c=function(e){this.data=e,this.get=function(e,t){var a=this.data[e];return void 0!==t&&void 0===a?t:a},this.set=function(e,t){this.data[e]=t},this.getAll=function(){return this.data}},o=function(e){this.entries=[],this.retrieve=function(e){return this.entries[e]},this.insert=function(e){this.entries.push(new c(e))},this.remove=function(e){this.entries.splice(e,1)},this.getAll=function(){return this.entries.map(function(e){return e.getAll()})},this.forEach=function(e){this.entries.forEach(e)},e.forEach(this.insert.bind(this))},v=function(){var e={};this.get=function(a){return e.hasOwnProperty(a)||(e[a]=t.getElementById(a)),e[a]}},p=new v,d=new u(\"savedData\",{}),g=new c(d.load()),f=function(e,t,a){this.barracks=[];var n;for(n=1;e>=n;n++){var r=p.get(t+\"-\"+n);this.barracks.push(r)}this.setDefaults=function(){var e=g.get(a);e&&this.barracks.forEach(function(t,a){t.options[e[a]].selected=!0})},this.updateSavedData=function(){g.set(a,this.barracks.map(function(e){return e.selectedIndex}))},this.getMaxLevel=function(){return Math.max.apply(null,this.barracks.map(function(e){return parseInt(e.value,10)}))},this.getAll=function(){return this.barracks},this.getLevels=function(){return this.barracks.map(function(e){return e.value})},this.getMaxCount=function(){return e}},m={units:new f(4,\"barracks-levels\",\"barracksLevels\"),dark:new f(2,\"dark-barracks-levels\",\"darkBarracksLevels\")},h=p.get(\"army-camps\"),y=p.get(\"spell-factory-level\"),b={units:{Barbarian:[20,[25,40,60,80,100,150],1,1],Archer:[25,[50,80,120,160,200,300],1,2],Goblin:[30,[25,40,60,80,100],1,3],Giant:[120,[500,1e3,1500,2e3,2500,3e3],5,4],Wall_Breaker:[120,[1e3,1500,2e3,2500,3e3],2,5],Balloon:[600,[2e3,2500,3e3,3500,4e3,4500],5,6],Wizard:[600,[1500,2e3,2500,3e3,3500],4,7],Healer:[1200,[7e3,1e4,13e3],20,8],Dragon:[1800,[25e3,3e4,36e3],20,9],\"P-E-K-K-A-\":[2700,[3e4,35e3,42e3],25,10]},spells:{Lightning:[1800,[15e3,16500,18e3,2e4,22e3],1,1],Healing:[1800,[2e4,22e3,24e3,26500,29e3],1,2],Rage:[2700,[3e4,33e3,36e3,4e4,44e3],1,3],Jump:[2700,[3e4,38e3],1,4]},dark:{Minion:[45,[6,7,8,9,10],2,1],\"Hog Rider\":[300,[30,35,40,45,50],6,2],Valkyrie:[900,[100,120,140,160],8,3],Golem:[2700,[450,500,550,600],30,4]}},k=p.get(\"units\"),L=p.get(\"spells\"),E={units:[0,20,25,30,35,40,45,50,55,60,75],dark:[0,40,50,60,70]},A=p.get(\"dark\"),x=0,I=function(e,t,a){var n=e-t;0>n&&(n='<span class=\"limit-exceeded\">'+n+\"</span>\"),p.get(a+\"-quantity\").innerHTML=\"(\"+n+\")\",t>e&&(t='<span class=\"limit-exceeded\">'+t+\"</span>\"),t=t+\" / \"+e,p.get(a+\"-space\").innerHTML=t},M=function(e,t,n){n.table.style.display=0===n.levelValue?\"none\":\"\";var i;for(i=n.capLevel;i>=1;i--)p.get(t+\"-building-level-\"+i).style.display=i>n.levelValue?\"none\":\"\";var s=0,u=0,c=0,o=[];if(a(e,function(e,a){if(!(a[3]>n.levelValue)){var i=p.get(e),l=parseInt(i.value,10)||0;0>l&&(l=0),\"\"!==i.value&&(i.value=l);var v=e+\"-level\",d=p.get(v),f=p.get(e+\"-cost\"),h=p.get(e+\"-summary\"),y=d.value,b=y*l;if(f.innerHTML=r(y),h.innerHTML=b?r(b):0,s+=b,u+=a[2]*l,\"spells\"===t)c+=a[0]*l;else{var k;for(k=1;m[t].getMaxCount()>=k;k++)p.get(\"quantity-\"+e+\"-\"+k).innerHTML=\"\";var L=e+\"-subtract\",E=p.get(L),A=parseInt(E.value,10)||0;0>A&&(A=0),\"\"!==E.value&&(E.value=A),l>0&&o.push({name:e,quantity:l-A,time:a[0],level:a[3],space:a[2]}),g.set(L,A)}g.set(e,l),g.set(v,d.selectedIndex)}}),\"units\"===t||\"dark\"===t){var v=m[t].getLevels();v.forEach(function(e,a){var n;n=0===parseInt(e,10)?\"\":e+' lvl <span class=\"'+t+'-quantity\" title=\"Maximum Unit Queue Length\">('+E[t][e]+\")</span>\",p.get(t+\"-barrack-header-\"+(a+1)).innerHTML=n});var d={};m[t].getAll().forEach(function(e){d[e.getAttribute(\"id\")]={time:0,space:0,maxSpace:E[t][e.value],units:{},level:e.value}}),o.sort(function(e,t){return e.time<t.time?1:e.time>t.time?-1:e.quantity>t.quantity?-1:e.quantity<t.quantity?1:0});var f,h,y=function(e,t,a){var n,r=null,i=[];for(n in e){var s=e[n];t>s.level||s.space+a>s.maxSpace||i.push(s)}return i.length>1?(i.sort(function(e,t){return e.time<t.time?-1:e.time>t.time?1:e.space<t.space?-1:e.space>t.space?1:0}),r=i[0]):i.length&&(r=i[0]),r},b=!1;for(f=0,h=o.length;h>f;f++){var k,L=o[f];for(k=0;L.quantity>k;k++){var A=y(d,L.level,L.space);if(null===A){b=!0;break}A.units[L.name]||(A.units[L.name]={time:0,quantity:0}),A.units[L.name].time+=L.time,A.units[L.name].quantity+=1,A.time+=L.time,A.space+=L.space}}if(b)p.get(t+\"-barracks-exceeded\").style.display=\"\",a(d,function(e){var a=e.slice(-1);p.get(t+\"-time-barrack-\"+a).innerHTML=\"\"});else{p.get(t+\"-barracks-exceeded\").style.display=\"none\";var M=0,w=1;a(d,function(e,n){var r=e.slice(-1);a(n.units,function(e,t){t.time>0&&(p.get(\"quantity-\"+e+\"-\"+r).innerHTML=\"Ã—\"+t.quantity)}),n.time>M&&(M=n.time,w=r),p.get(t+\"-time-barrack-\"+r).innerHTML=n.time?l(n.time):\"\"});var C=p.get(t+\"-time-barrack-\"+w);C.innerHTML='<span class=\"result\">'+C.innerHTML+\"</span>\"}}p.get(t+\"-cost\").innerHTML=r(s),\"spells\"===t?I(n.space,u,t):x+=u,\"spells\"===t&&(p.get(t+\"-time\").innerHTML=l(c,\"spells\"===t))},w=function(){x=0;var e=parseInt(h.value,10);(isNaN(e)||0>e)&&(e=0),h.value=e,M(b.units,\"units\",{table:k,levelValue:m.units.getMaxLevel(),space:e,capLevel:10}),M(b.spells,\"spells\",{table:L,levelValue:parseInt(y.value,10),space:y.value,capLevel:4}),M(b.dark,\"dark\",{table:A,levelValue:m.dark.getMaxLevel(),space:e,capLevel:4}),I(h.value,x,\"units\"),I(h.value,x,\"dark\"),m.units.updateSavedData(),m.dark.updateSavedData(),g.set(\"armyCamps\",h.value),g.set(\"spellFactoryLevel\",y.selectedIndex),d.save(g.getAll())},C=function(){m.units.setDefaults(),m.dark.setDefaults(),h.value=g.get(\"armyCamps\",h.value),y.options[g.get(\"spellFactoryLevel\",y.selectedIndex)].selected=!0;var e=function(e,t){a(e,function(e){var a=e+\"-level\",n=p.get(a);n.options[g.get(a,n.selectedIndex)].selected=!0;var r=p.get(e);if(\"spells\"===t)r.options[g.get(e,r.selectedIndex)].selected=!0;else{r.value=g.get(e)||0;var i=e+\"-subtract\";p.get(i).value=g.get(i)||0}})};e(b.units,\"units\"),e(b.spells,\"spells\"),e(b.dark,\"dark\")};a(m,function(e,t){t.getAll().forEach(function(e){e.addEventListener(\"change\",w,!1)})}),h.addEventListener(\"input\",w,!1),y.addEventListener(\"change\",w,!1);var N=function(a){var n=parseInt(a.getAttribute(\"data-multiplier\"),10)||1,r=function(){var e=parseInt(a.value,10);a.value=isNaN(e)?n:e+n,w()},i=function(){var e=parseInt(a.value,10);a.value=isNaN(e)||2>e?0:e-n,w()},s=function(n){var s=t.createElement(\"span\");s.className=\"like-button like-button_after\",s.innerHTML=\"plus\"===n?\"+\":\"âˆ’\";var l=null,u=null,c=!1,o=function(t){t.preventDefault(),t.stopPropagation(),c=!0,u=e.setTimeout(function(){c=!1,l=e.setInterval(\"plus\"===n?r:i,100)},500)},v=function(e){e.preventDefault(),e.stopPropagation(),c&&(\"plus\"===n?r:i)(),clearTimeout(u),clearInterval(l)};s.addEventListener(\"touchstart\",o),s.addEventListener(\"touchend\",v),s.addEventListener(\"mousedown\",o),s.addEventListener(\"mouseup\",v),a.parentNode.appendChild(s)};s(\"plus\"),s(\"minus\")},T=templates.item_row,D=function(e,n,r){var l=function(e,t){return{value:e,text:t+1}},u=[];if(\"spells\"===n){var c;for(c=0;5>c;c++)u.push({value:c,text:c})}var o=p.get(n+\"-body\");a(e,function(e,a){var c=i(e),v={id:e,title:c,titleLink:s(c,\"spells\"===n),levelId:e+\"-level\",levelContent:a[1].map(l),costId:e+\"-cost\",summaryId:e+\"-summary\",rowId:n+\"-building-level-\"+a[3],tabIndexLevel:r+a[3],tabIndexValue:r+1e3+a[3]};if(\"spells\"===n&&(v.spells={options:u}),\"units\"===n||\"dark\"===n){var d,g=[];for(d=1;m[n].getMaxCount()>=d;d++)g.push({barrackQuantityId:\"quantity-\"+e+\"-\"+d});v.barracksTimes=g,v.subtractId=e+\"-subtract\",v.tabIndexSubtract=r+4e3+a[3]}var f=T.render(v),h=t.createElement(\"div\");h.innerHTML=\"<table>\"+f+\"</table>\";var y=h.querySelector(\"tr\");o.appendChild(y),p.get(v.levelId).addEventListener(\"change\",w,!1),p.get(v.id).addEventListener(\"spells\"===n?\"change\":\"input\",w,!1),(\"units\"===n||\"dark\"===n)&&p.get(v.subtractId).addEventListener(\"input\",w,!1)})};D(b.units,\"units\",100),D(b.dark,\"dark\",200),D(b.spells,\"spells\",300);var q=function(e){\"input\"===e.target.tagName.toLowerCase()&&setTimeout(function(e){e.setSelectionRange(0,9999)}.bind(null,e.target),10)};Array.prototype.slice.call(t.getElementsByClassName(\"js-number\")).forEach(function(e){e.addEventListener(\"focus\",q,!1),N(e)});var S=function(e){e.preventDefault(),e.stopPropagation(),a(b[e.target.getAttribute(\"data-type\")],function(t){var a=t,n=e.target.getAttribute(\"data-scope\");\"quantity\"!==n&&(a+=\"-\"+n),p.get(a).value=\"0\"}),w()};Array.prototype.slice.call(t.getElementsByClassName(\"js-reset\")).forEach(function(e){e.addEventListener(\"click\",S,!1),e.addEventListener(\"touchend\",S,!1)}),C(),w(),e.device&&e.device.cordova&&Array.prototype.slice.call(t.getElementsByClassName(\"js-link\")).forEach(function(e){var t=e.getAttribute(\"href\");e.removeAttribute(\"target\"),e.setAttribute(\"href\",\"#\"),e.addEventListener(\"touchend\",function(e){e.preventDefault(),e.stopPropagation(),app.open_browser(t)})});var H=new u(\"savedCalculations\",[]),j=new o(H.load()),B=templates.saved_list_item,_=function(){var e=[];j.forEach(function(t,n){var s={index:n,tabIndexLoad:n+3e3+1,tabIndexDelete:n+3e3+2},l=[],u=0,c=0,o=t.get(\"barracksLevels\",[10,10,10,10]);a(b.units,function(e,a){var n=parseInt(t.get(e),10)||0,r=Math.max.apply(null,o.map(function(e,t){return 0===t?e+1:e}));n>0&&r>=a[3]&&(l.push({name:i(e),level:Array(t.get(e+\"-level\")+2).join(\"*\"),quantity:n}),u+=a[1][t.get(e+\"-level\")]*n,c+=a[2]*n)}),l.length&&(s.hasUnits={units:l,totalCost:r(u)});var v=t.get(\"darkBarracksLevels\",[4,4]),p=Math.max.apply(null,v);if(p>0){var d=[],g=0;a(b.dark,function(e,a){var n=parseInt(t.get(e),10)||0;n>0&&p>=a[3]&&(d.push({name:i(e),level:Array(t.get(e+\"-level\")+2).join(\"*\"),quantity:n}),g+=a[1][t.get(e+\"-level\")]*n,c+=a[2]*n)}),d.length&&(s.hasDark={dark:d,darkCost:r(g)})}if(c>0&&(s.hasCapacity={totalCapacity:c,armyCamps:t.get(\"armyCamps\")}),t.get(\"spellFactoryLevel\")>0){var f=[],m=0,h=0;a(b.spells,function(e,a){var n=parseInt(t.get(e),10)||0;n>0&&a[3]<=t.get(\"spellFactoryLevel\")&&(f.push({name:i(e),level:Array(t.get(e+\"-level\")+2).join(\"*\"),quantity:n}),m+=a[1][t.get(e+\"-level\")]*n,h+=a[2]*n)}),f.length&&(s.hasSpells={spells:f,spellsCost:r(m),spellsCapacity:h,spellsFactoryLevel:t.get(\"spellFactoryLevel\")})}e.push(B.render(s))});var t=p.get(\"saved-list-content\");t.innerHTML=e.join(\"\");var s=function(e){e.preventDefault(),e.stopPropagation(),g=new c(n(j.retrieve(e.target.getAttribute(\"data-num\")).getAll())),C(),w(),_()};Array.prototype.slice.call(t.getElementsByClassName(\"js-saved-load\")).forEach(function(e){e.addEventListener(\"click\",s,!1),e.addEventListener(\"touchend\",s,!1)});var l=function(e){e.preventDefault(),e.stopPropagation(),j.remove(e.target.getAttribute(\"data-num\")),H.save(j.getAll()),_()};Array.prototype.slice.call(t.getElementsByClassName(\"js-saved-delete\")).forEach(function(e){e.addEventListener(\"click\",l,!1),e.addEventListener(\"touchend\",l,!1)})},P=function(e){e.preventDefault(),e.stopPropagation();var t=n(g.getAll());a(t,function(e){-1!==e.indexOf(\"subtract\")&&delete t[e]}),j.insert(t),H.save(j.getAll()),_()};p.get(\"save\").addEventListener(\"click\",P,!1),p.get(\"save\").addEventListener(\"touchend\",P,!1),_()})(window,document);</script> </body> </html> ","version":1366557813329}},"error":0}